{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/hooks/admin/dashboard/useDashboardStats.ts"],"sourcesContent":["\"use client\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\nexport interface DashboardStats {\r\n  examsCount: number;\r\n  questionsCount: number;\r\n  attemptsCount: number;\r\n  uniqueStudents: number;\r\n}\r\n\r\nexport const useDashboardStats = (userId: string) => {\r\n  const supabase = createClient();\r\n\r\n  return useQuery<DashboardStats>({\r\n    queryKey: [\"admin-dashboard-stats\", userId],\r\n    queryFn: async () => {\r\n      if (!userId) throw new Error(\"No userId provided\");\r\n\r\n      // Call the optimized RPC function\r\n      const { data, error } = await supabase\r\n        .rpc('get_admin_dashboard_stats', { admin_uuid: userId });\r\n\r\n      if (error) {\r\n        console.error(\"Dashboard fetch error:\", error);\r\n        // Fallback to zeros on error\r\n        return {\r\n          examsCount: 0,\r\n          questionsCount: 0,\r\n          attemptsCount: 0,\r\n          uniqueStudents: 0,\r\n        };\r\n      }\r\n\r\n      return data as DashboardStats;\r\n    },\r\n    enabled: !!userId,\r\n  });\r\n};\r\n"],"names":[],"mappings":";;;;AACA;AACA;;AAFA;;;AAWO,MAAM,oBAAoB,CAAC;;IAChC,MAAM,WAAW,IAAA,4IAAY;IAE7B,OAAO,IAAA,0LAAQ,EAAiB;QAC9B,UAAU;YAAC;YAAyB;SAAO;QAC3C,OAAO;0CAAE;gBACP,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;gBAE7B,kCAAkC;gBAClC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,GAAG,CAAC,6BAA6B;oBAAE,YAAY;gBAAO;gBAEzD,IAAI,OAAO;oBACT,QAAQ,KAAK,CAAC,0BAA0B;oBACxC,6BAA6B;oBAC7B,OAAO;wBACL,YAAY;wBACZ,gBAAgB;wBAChB,eAAe;wBACf,gBAAgB;oBAClB;gBACF;gBAEA,OAAO;YACT;;QACA,SAAS,CAAC,CAAC;IACb;AACF;GA3Ba;;QAGJ,0LAAQ"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/app/admin/dashboard/components/StatsCards.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { FolderPlus, Award, Clock, CheckCircle2, TrendingUp, Users } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useDashboardStats } from \"@/hooks/admin/dashboard/useDashboardStats\";\r\nimport Link from \"next/link\";\r\n\r\ninterface Props {\r\n  userId: string;\r\n}\r\n\r\nexport default function StatsCards({ userId }: Props) {\r\n  const { data, isLoading, isError, error } = useDashboardStats(userId);\r\n\r\n  if (isLoading)\r\n    return (\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {[...Array(4)].map((_, i) => (\r\n          <Card key={i} className=\"p-6 border-none shadow-sm bg-white/50 dark:bg-slate-800/50\">\r\n            <div className=\"animate-pulse h-16 bg-slate-200 dark:bg-slate-700 rounded-xl\"></div>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    );\r\n\r\n  if (isError)\r\n    return (\r\n      <div className=\"p-4 rounded-xl bg-red-50 text-red-600 text-sm text-center\">\r\n        Failed to load stats: {(error as any).message}\r\n      </div>\r\n    );\r\n\r\n  const { examsCount, questionsCount, attemptsCount, uniqueStudents } = data ?? {\r\n    examsCount: 0,\r\n    questionsCount: 0,\r\n    attemptsCount: 0,\r\n    uniqueStudents: 0,\r\n  };\r\n\r\n  const fadeIn = {\r\n    hidden: { opacity: 0, y: 20 },\r\n    visible: (i: number) => ({\r\n      opacity: 1,\r\n      y: 0,\r\n      transition: { delay: i * 0.1, duration: 0.5 },\r\n    }),\r\n  };\r\n\r\n  const stats = [\r\n    {\r\n      title: \"Total Exams\",\r\n      value: examsCount,\r\n      icon: <CheckCircle2 className=\"w-6 h-6 text-emerald-600 dark:text-emerald-400\" />,\r\n      bg: \"bg-emerald-500/10\",\r\n      border: \"border-emerald-500/20\",\r\n    },\r\n    {\r\n      title: \"Total Questions\",\r\n      value: questionsCount,\r\n      icon: <TrendingUp className=\"w-6 h-6 text-blue-600 dark:text-blue-400\" />,\r\n      bg: \"bg-blue-500/10\",\r\n      border: \"border-blue-500/20\",\r\n    },\r\n    {\r\n      title: \"Total Attempts\",\r\n      value: attemptsCount,\r\n      icon: <Clock className=\"w-6 h-6 text-amber-600 dark:text-amber-400\" />,\r\n      bg: \"bg-amber-500/10\",\r\n      border: \"border-amber-500/20\",\r\n    },\r\n    {\r\n      title: \"Active Students\",\r\n      value: uniqueStudents,\r\n      icon: <Users className=\"w-6 h-6 text-violet-600 dark:text-violet-400\" />,\r\n      bg: \"bg-violet-500/10\",\r\n      border: \"border-violet-500/20\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Welcome Section */}\r\n      <motion.div\r\n        variants={fadeIn}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        custom={0}\r\n        className=\"relative overflow-hidden rounded-3xl p-8 bg-linear-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 border border-slate-100 dark:border-slate-700 shadow-xl\"\r\n      >\r\n        <div className=\"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6\">\r\n          <div>\r\n            <h2 className=\"text-3xl font-bold text-slate-900 dark:text-white\">\r\n              Dashboard Overview\r\n            </h2>\r\n            <p className=\"text-slate-500 dark:text-slate-400 mt-2 max-w-xl\">\r\n              Track your exam performance, student engagement, and question bank growth all in one place.\r\n            </p>\r\n          </div>\r\n\r\n          <Link href=\"/admin/exams/create\">\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              className=\"flex items-center gap-2 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-medium shadow-lg shadow-indigo-500/20 transition-all\"\r\n            >\r\n              <FolderPlus className=\"w-5 h-5\" />\r\n              <span>Create New Exam</span>\r\n            </motion.button>\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Decorative background elements */}\r\n        <div className=\"absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-indigo-500/5 rounded-full blur-3xl\" />\r\n        <div className=\"absolute bottom-0 left-0 -mb-10 -ml-10 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl\" />\r\n      </motion.div>\r\n\r\n      {/* Statistics Grid */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {stats.map((stat, i) => (\r\n          <motion.div\r\n            key={i}\r\n            variants={fadeIn}\r\n            initial=\"hidden\"\r\n            animate=\"visible\"\r\n            custom={i + 1}\r\n            whileHover={{ y: -4 }}\r\n            className={`p-6 rounded-2xl bg-white dark:bg-slate-800 border ${stat.border} shadow-sm hover:shadow-md transition-all`}\r\n          >\r\n            <div className=\"flex justify-between items-start\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-slate-500 dark:text-slate-400\">{stat.title}</p>\r\n                <h3 className=\"text-3xl font-bold text-slate-900 dark:text-white mt-2\">\r\n                  {stat.value.toLocaleString()}\r\n                </h3>\r\n              </div>\r\n              <div className={`p-3 rounded-xl ${stat.bg}`}>\r\n                {stat.icon}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 373, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/app/admin/dashboard/components/ExamCharts.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from \"@/components/ui/card\";\r\nimport { ResponsiveContainer, BarChart, Bar, AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip } from \"recharts\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\ninterface Props { userId: string }\r\n\r\nexport default function ExamCharts({ userId }: Props) {\r\n  const supabase = createClient();\r\n\r\n  const { data, isLoading } = useQuery({\r\n    queryKey: ['admin-charts', userId],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .rpc('get_admin_chart_data', { admin_uuid: userId });\r\n\r\n      if (error) throw error;\r\n      return data || [];\r\n    },\r\n    staleTime: 1000 * 60 * 5, // 5 minutes\r\n  });\r\n\r\n  // Default empty state for charts\r\n  const chartData = data || [\r\n    { name: \"Mon\", attempts: 0, avgScore: 0 },\r\n    { name: \"Tue\", attempts: 0, avgScore: 0 },\r\n    { name: \"Wed\", attempts: 0, avgScore: 0 },\r\n    { name: \"Thu\", attempts: 0, avgScore: 0 },\r\n    { name: \"Fri\", attempts: 0, avgScore: 0 },\r\n    { name: \"Sat\", attempts: 0, avgScore: 0 },\r\n    { name: \"Sun\", attempts: 0, avgScore: 0 },\r\n  ];\r\n\r\n  const attemptsData = chartData.map((d: any) => ({ name: d.name, attempts: d.attempts }));\r\n  const performanceData = chartData.map((d: any) => ({ name: d.name, avgScore: d.avgScore }));\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"h-[400px] w-full bg-white/50 dark:bg-slate-800/50 rounded-xl animate-pulse\" />\r\n        <div className=\"h-[400px] w-full bg-white/50 dark:bg-slate-800/50 rounded-xl animate-pulse\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n      <Card className=\"border-none shadow-lg bg-white dark:bg-slate-800\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-xl font-bold text-slate-900 dark:text-white\">Exam Attempts (Last 7 Days)</CardTitle>\r\n          <CardDescription className=\"text-slate-500 dark:text-slate-400\">Daily student submissions</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"h-[300px] w-full\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <BarChart data={attemptsData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" vertical={false} />\r\n                <XAxis\r\n                  dataKey=\"name\"\r\n                  stroke=\"#94a3b8\"\r\n                  fontSize={12}\r\n                  tickLine={false}\r\n                  axisLine={false}\r\n                />\r\n                <YAxis\r\n                  stroke=\"#94a3b8\"\r\n                  fontSize={12}\r\n                  tickLine={false}\r\n                  axisLine={false}\r\n                  tickFormatter={(value) => `${value}`}\r\n                  allowDecimals={false}\r\n                />\r\n                <Tooltip\r\n                  cursor={{ fill: 'transparent' }}\r\n                  contentStyle={{\r\n                    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n                    borderRadius: '8px',\r\n                    border: 'none',\r\n                    boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1)'\r\n                  }}\r\n                />\r\n                <Bar\r\n                  dataKey=\"attempts\"\r\n                  fill=\"#6366f1\"\r\n                  radius={[4, 4, 0, 0]}\r\n                  barSize={32}\r\n                />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"border-none shadow-lg bg-white dark:bg-slate-800\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-xl font-bold text-slate-900 dark:text-white\">Performance Trend (Last 7 Days)</CardTitle>\r\n          <CardDescription className=\"text-slate-500 dark:text-slate-400\">Average student scores</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"h-[300px] w-full\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <AreaChart data={performanceData}>\r\n                <defs>\r\n                  <linearGradient id=\"colorScore\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                    <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3} />\r\n                    <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0} />\r\n                  </linearGradient>\r\n                </defs>\r\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" vertical={false} />\r\n                <XAxis\r\n                  dataKey=\"name\"\r\n                  stroke=\"#94a3b8\"\r\n                  fontSize={12}\r\n                  tickLine={false}\r\n                  axisLine={false}\r\n                />\r\n                <YAxis\r\n                  stroke=\"#94a3b8\"\r\n                  fontSize={12}\r\n                  tickLine={false}\r\n                  axisLine={false}\r\n                  tickFormatter={(value) => `${value}%`}\r\n                  domain={[0, 100]}\r\n                />\r\n                <Tooltip\r\n                  contentStyle={{\r\n                    backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n                    borderRadius: '8px',\r\n                    border: 'none',\r\n                    boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1)'\r\n                  }}\r\n                  formatter={(value: any) => [`${value}%`, 'Avg Score']}\r\n                />\r\n                <Area\r\n                  type=\"monotone\"\r\n                  dataKey=\"avgScore\"\r\n                  stroke=\"#10b981\"\r\n                  strokeWidth={3}\r\n                  fillOpacity={1}\r\n                  fill=\"url(#colorScore)\"\r\n                />\r\n              </AreaChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 800, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/app/admin/dashboard/components/RecentAttemptsCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from \"@/components/ui/card\";\r\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\n\r\ninterface Props { userId: string }\r\n\r\nexport default function RecentAttemptsCard({ userId }: Props) {\r\n  const supabase = createClient();\r\n  const [attempts, setAttempts] = useState<any[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchAttempts() {\r\n      setIsLoading(true);\r\n      const { data } = await supabase\r\n        .from(\"exam_attempts\")\r\n        .select(\"*, exams(title), profiles(full_name, email)\")\r\n        .order(\"started_at\", { ascending: false })\r\n        .limit(5);\r\n      setAttempts(data || []);\r\n      setIsLoading(false);\r\n    }\r\n\r\n    fetchAttempts();\r\n  }, [userId, supabase]);\r\n\r\n  const getStatusVariant = (status: string) => {\r\n    switch (status?.toLowerCase()) {\r\n      case \"completed\": return \"default\"; // or \"success\" if you have it\r\n      case \"submitted\": return \"default\";\r\n      case \"in_progress\": return \"secondary\";\r\n      case \"pending\": return \"destructive\";\r\n      default: return \"outline\";\r\n    }\r\n  };\r\n\r\n  const getInitials = (name?: string, email?: string) => {\r\n    if (name) return name.split(\" \").map(n => n[0]).join(\"\").toUpperCase().slice(0, 2);\r\n    if (email) return email[0].toUpperCase();\r\n    return \"U\";\r\n  };\r\n\r\n  return (\r\n    <Card className=\"col-span-1 lg:col-span-2 border-none shadow-lg bg-white dark:bg-slate-800\">\r\n      <CardHeader>\r\n        <CardTitle className=\"text-xl font-bold text-slate-900 dark:text-white\">Recent Student Attempts</CardTitle>\r\n        <CardDescription className=\"text-slate-500 dark:text-slate-400\">Latest exam submissions from your students</CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        {isLoading ? (\r\n          <div className=\"space-y-4\">\r\n            {[...Array(3)].map((_, i) => (\r\n              <div key={i} className=\"flex items-center gap-4 animate-pulse\">\r\n                <div className=\"h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700\" />\r\n                <div className=\"space-y-2 flex-1\">\r\n                  <div className=\"h-4 w-1/3 bg-slate-200 dark:bg-slate-700 rounded\" />\r\n                  <div className=\"h-3 w-1/4 bg-slate-200 dark:bg-slate-700 rounded\" />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : attempts.length === 0 ? (\r\n          <div className=\"text-center py-8 text-slate-500 dark:text-slate-400\">\r\n            No attempts recorded yet.\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {attempts.map((a) => (\r\n              <div key={a.id} className=\"flex items-center justify-between group\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <Avatar className=\"h-10 w-10 border border-slate-200 dark:border-slate-700\">\r\n                    <AvatarImage src={a.profiles?.avatar_url} />\r\n                    <AvatarFallback className=\"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-400\">\r\n                      {getInitials(a.profiles?.full_name, a.profiles?.email)}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n                  <div>\r\n                    <p className=\"font-medium text-slate-900 dark:text-white\">\r\n                      {a.profiles?.full_name || a.profiles?.email}\r\n                    </p>\r\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400\">\r\n                      {a.exams?.title} â€¢ <span className=\"text-xs\">{a.started_at ? formatDistanceToNow(new Date(a.started_at), { addSuffix: true }) : ''}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <Badge variant={getStatusVariant(a.status)} className=\"capitalize\">\r\n                  {a.status.replace('_', ' ')}\r\n                </Badge>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAWe,SAAS,mBAAmB,EAAE,MAAM,EAAS;;IAC1D,MAAM,WAAW,IAAA,4IAAY;IAC7B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;wCAAC;YACR,eAAe;gBACb,aAAa;gBACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,iBACL,MAAM,CAAC,+CACP,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM,GACvC,KAAK,CAAC;gBACT,YAAY,QAAQ,EAAE;gBACtB,aAAa;YACf;YAEA;QACF;uCAAG;QAAC;QAAQ;KAAS;IAErB,MAAM,mBAAmB,CAAC;QACxB,OAAQ,QAAQ;YACd,KAAK;gBAAa,OAAO,WAAW,8BAA8B;YAClE,KAAK;gBAAa,OAAO;YACzB,KAAK;gBAAe,OAAO;YAC3B,KAAK;gBAAW,OAAO;YACvB;gBAAS,OAAO;QAClB;IACF;IAEA,MAAM,cAAc,CAAC,MAAe;QAClC,IAAI,MAAM,OAAO,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,WAAW,GAAG,KAAK,CAAC,GAAG;QAChF,IAAI,OAAO,OAAO,KAAK,CAAC,EAAE,CAAC,WAAW;QACtC,OAAO;IACT;IAEA,qBACE,6LAAC,oIAAI;QAAC,WAAU;;0BACd,6LAAC,0IAAU;;kCACT,6LAAC,yIAAS;wBAAC,WAAU;kCAAmD;;;;;;kCACxE,6LAAC,+IAAe;wBAAC,WAAU;kCAAqC;;;;;;;;;;;;0BAElE,6LAAC,2IAAW;0BACT,0BACC,6LAAC;oBAAI,WAAU;8BACZ;2BAAI,MAAM;qBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,6LAAC;4BAAY,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;;;;;sDACf,6LAAC;4CAAI,WAAU;;;;;;;;;;;;;2BAJT;;;;;;;;;2BASZ,SAAS,MAAM,KAAK,kBACtB,6LAAC;oBAAI,WAAU;8BAAsD;;;;;yCAIrE,6LAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,kBACb,6LAAC;4BAAe,WAAU;;8CACxB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,wIAAM;4CAAC,WAAU;;8DAChB,6LAAC,6IAAW;oDAAC,KAAK,EAAE,QAAQ,EAAE;;;;;;8DAC9B,6LAAC,gJAAc;oDAAC,WAAU;8DACvB,YAAY,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE;;;;;;;;;;;;sDAGpD,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DACV,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE;;;;;;8DAExC,6LAAC;oDAAE,WAAU;;wDACV,EAAE,KAAK,EAAE;wDAAM;sEAAG,6LAAC;4DAAK,WAAU;sEAAW,EAAE,UAAU,GAAG,IAAA,4KAAmB,EAAC,IAAI,KAAK,EAAE,UAAU,GAAG;gEAAE,WAAW;4DAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;;8CAItI,6LAAC,sIAAK;oCAAC,SAAS,iBAAiB,EAAE,MAAM;oCAAG,WAAU;8CACnD,EAAE,MAAM,CAAC,OAAO,CAAC,KAAK;;;;;;;2BAlBjB,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;AA2B5B;GAzFwB;KAAA"}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/app/admin/dashboard/components/QuickActionsCard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport Link from \"next/link\"\r\nimport { Plus, Eye } from \"lucide-react\"\r\n\r\nexport default function QuickActionsCard() {\r\n  return (\r\n    <Card className=\"group relative overflow-hidden rounded-2xl bg-white/70 dark:bg-slate-800/60 border border-slate-100 dark:border-slate-700 shadow-md backdrop-blur-md transition-all duration-500 hover:-translate-y-1 hover:shadow-xl lg:col-span-1\">\r\n     <div className=\"absolute inset-0 bg-linear-to-br from-pink-500/10 via-red-400/5 to-orange-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500\"></div>\r\n      <CardHeader>\r\n        <CardTitle>Quick Actions</CardTitle>\r\n        <CardDescription>Get started quickly</CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"flex flex-col gap-4\">\r\n        <Link href=\"/admin/exams/create\">\r\n          <Button className=\"w-full bg-indigo-600 hover:bg-indigo-700 dark:bg-slate-800/60 dark:hover:bg-indigo-600 dark:text-white\">\r\n            <Plus className=\"mr-2 h-4 w-4\" /> Create New Exam\r\n          </Button>\r\n        </Link>\r\n        <Link href=\"/admin/exams\">\r\n          <Button variant=\"outline\" className=\"w-full\">\r\n            <Eye className=\"mr-2 h-4 w-4\" /> View All Exams\r\n          </Button>\r\n        </Link>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AALA;;;;;;AAOe,SAAS;IACtB,qBACE,6LAAC,oIAAI;QAAC,WAAU;;0BACf,6LAAC;gBAAI,WAAU;;;;;;0BACd,6LAAC,0IAAU;;kCACT,6LAAC,yIAAS;kCAAC;;;;;;kCACX,6LAAC,+IAAe;kCAAC;;;;;;;;;;;;0BAEnB,6LAAC,2IAAW;gBAAC,WAAU;;kCACrB,6LAAC,0KAAI;wBAAC,MAAK;kCACT,cAAA,6LAAC,wIAAM;4BAAC,WAAU;;8CAChB,6LAAC,6MAAI;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;kCAGrC,6LAAC,0KAAI;wBAAC,MAAK;kCACT,cAAA,6LAAC,wIAAM;4BAAC,SAAQ;4BAAU,WAAU;;8CAClC,6LAAC,0MAAG;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAM5C;KAtBwB"}},
    {"offset": {"line": 1184, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/app/admin/dashboard/components/AdminDashboardClient.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Suspense } from \"react\"\r\nimport StatsCards from \"./StatsCards\"\r\nimport ExamCharts from \"./ExamCharts\"\r\nimport RecentAttemptsCard from \"./RecentAttemptsCard\"\r\nimport QuickActionsCard from \"./QuickActionsCard\"\r\n\r\ninterface Props {\r\n  userId: string\r\n}\r\n\r\n\r\nexport default function AdminDashboardClient({ userId }: Props) {\r\n  return (\r\n    <main className=\"flex-1 p-6 md:p-8 space-y-8 bg-slate-50 dark:bg-slate-800/60\">    \r\n\r\n      <Suspense fallback={<div>Loading stats...</div>}>\r\n        <StatsCards userId={userId} />\r\n      </Suspense>\r\n\r\n      <Suspense fallback={<div>Loading charts...</div>}>\r\n        <ExamCharts userId={userId} />\r\n      </Suspense>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <Suspense fallback={<div>Loading recent attempts...</div>}>\r\n          <RecentAttemptsCard userId={userId} />\r\n        </Suspense>\r\n\r\n        <QuickActionsCard />\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAae,SAAS,qBAAqB,EAAE,MAAM,EAAS;IAC5D,qBACE,6LAAC;QAAK,WAAU;;0BAEd,6LAAC,yKAAQ;gBAAC,wBAAU,6LAAC;8BAAI;;;;;;0BACvB,cAAA,6LAAC,oKAAU;oBAAC,QAAQ;;;;;;;;;;;0BAGtB,6LAAC,yKAAQ;gBAAC,wBAAU,6LAAC;8BAAI;;;;;;0BACvB,cAAA,6LAAC,oKAAU;oBAAC,QAAQ;;;;;;;;;;;0BAGtB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,yKAAQ;wBAAC,wBAAU,6LAAC;sCAAI;;;;;;kCACvB,cAAA,6LAAC,4KAAkB;4BAAC,QAAQ;;;;;;;;;;;kCAG9B,6LAAC,0KAAgB;;;;;;;;;;;;;;;;;AAIzB;KArBwB"}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\r\n\r\nfunction Skeleton({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"skeleton\"\r\n      className={cn('bg-accent animate-pulse rounded-md', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Skeleton }\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS"}},
    {"offset": {"line": 1326, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/app/admin/dashboard/components/Loading.tsx"],"sourcesContent":["import { Skeleton } from \"@/components/ui/skeleton\"\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <Skeleton className=\"h-8 w-48\" />\r\n        <div className=\"flex space-x-3\">\r\n          <Skeleton className=\"h-8 w-24\" />\r\n          <Skeleton className=\"h-8 w-24\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {[...Array(4)].map((_, i) => (\r\n          <div key={i} className=\"p-4 border rounded-lg space-y-3 shadow-sm\">\r\n            <Skeleton className=\"h-5 w-32\" />\r\n            <Skeleton className=\"h-8 w-20\" />\r\n            <Skeleton className=\"h-4 w-16\" />\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Charts */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4\">\r\n        <div className=\"p-4 border rounded-lg shadow-sm\">\r\n          <Skeleton className=\"h-6 w-40 mb-3\" />\r\n          <Skeleton className=\"h-72 w-full\" />\r\n        </div>\r\n        <div className=\"p-4 border rounded-lg shadow-sm\">\r\n          <Skeleton className=\"h-6 w-40 mb-3\" />\r\n          <Skeleton className=\"h-72 w-full\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table Section */}\r\n      <div className=\"mt-6 border rounded-lg shadow-sm p-4 space-y-4\">\r\n        <Skeleton className=\"h-6 w-48\" />\r\n        {[...Array(5)].map((_, i) => (\r\n          <div key={i} className=\"flex justify-between items-center\">\r\n            <Skeleton className=\"h-5 w-1/4\" />\r\n            <Skeleton className=\"h-5 w-1/6\" />\r\n            <Skeleton className=\"h-5 w-1/6\" />\r\n            <Skeleton className=\"h-5 w-1/6\" />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,4IAAQ;wBAAC,WAAU;;;;;;kCACpB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAKxB,6LAAC;gBAAI,WAAU;0BACZ;uBAAI,MAAM;iBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,6LAAC;wBAAY,WAAU;;0CACrB,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;;uBAHZ;;;;;;;;;;0BASd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC,4IAAQ;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAKxB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,4IAAQ;wBAAC,WAAU;;;;;;oBACnB;2BAAI,MAAM;qBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,6LAAC;4BAAY,WAAU;;8CACrB,6LAAC,4IAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC,4IAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC,4IAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC,4IAAQ;oCAAC,WAAU;;;;;;;2BAJZ;;;;;;;;;;;;;;;;;AAUpB;KAjDwB"}},
    {"offset": {"line": 1543, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/app/admin/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport AdminDashboardClient from \"./components/AdminDashboardClient\";\r\nimport Loading from \"./components/Loading\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\n\r\nconst supabase = createClient();\r\n\r\nasync function fetchUserId(): Promise<string | null> {\r\n  const { data, error } = await supabase.auth.getUser();\r\n  if (error) throw error;\r\n  return data?.user?.id ?? null;\r\n}\r\n\r\nexport default function AdminDashboardPage() {\r\n  const { data: userId, isLoading, isError, error } = useQuery({\r\n    queryKey: [\"auth-user-id\"],\r\n    queryFn: fetchUserId,\r\n    staleTime: 1000 * 60 * 5, // cache 5 minutes\r\n    refetchOnWindowFocus: false,\r\n  });\r\n\r\n  if (isLoading) return <Loading />;\r\n  if (isError) {\r\n    console.error(error);\r\n    return (\r\n      <div className=\"flex items-center justify-center h-[70vh] text-red-500\">\r\n        Failed to load user information.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!userId) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-[70vh] text-gray-500\">\r\n        No active session found. Please login again.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <AdminDashboardClient userId={userId} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOA,MAAM,WAAW,IAAA,4IAAY;AAE7B,eAAe;IACb,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IACnD,IAAI,OAAO,MAAM;IACjB,OAAO,MAAM,MAAM,MAAM;AAC3B;AAEe,SAAS;;IACtB,MAAM,EAAE,MAAM,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAA,0LAAQ,EAAC;QAC3D,UAAU;YAAC;SAAe;QAC1B,SAAS;QACT,WAAW,OAAO,KAAK;QACvB,sBAAsB;IACxB;IAEA,IAAI,WAAW,qBAAO,6LAAC,iKAAO;;;;;IAC9B,IAAI,SAAS;QACX,QAAQ,KAAK,CAAC;QACd,qBACE,6LAAC;YAAI,WAAU;sBAAyD;;;;;;IAI5E;IAEA,IAAI,CAAC,QAAQ;QACX,qBACE,6LAAC;YAAI,WAAU;sBAA0D;;;;;;IAI7E;IAEA,qBAAO,6LAAC,8KAAoB;QAAC,QAAQ;;;;;;AACvC;GA3BwB;;QAC8B,0LAAQ;;;KADtC"}}]
}