{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,oMAAmB;AAI5B"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\r\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction DropdownMenu({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\r\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Trigger\r\n      data-slot=\"dropdown-menu-trigger\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuContent({\r\n  className,\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal>\r\n      <DropdownMenuPrimitive.Content\r\n        data-slot=\"dropdown-menu-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    </DropdownMenuPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuItem({\r\n  className,\r\n  inset,\r\n  variant = 'default',\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\r\n  inset?: boolean\r\n  variant?: 'default' | 'destructive'\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Item\r\n      data-slot=\"dropdown-menu-item\"\r\n      data-inset={inset}\r\n      data-variant={variant}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuCheckboxItem({\r\n  className,\r\n  children,\r\n  checked,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n      data-slot=\"dropdown-menu-checkbox-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      checked={checked}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioGroup\r\n      data-slot=\"dropdown-menu-radio-group\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioItem\r\n      data-slot=\"dropdown-menu-radio-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CircleIcon className=\"size-2 fill-current\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuLabel({\r\n  className,\r\n  inset,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Label\r\n      data-slot=\"dropdown-menu-label\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Separator\r\n      data-slot=\"dropdown-menu-separator\"\r\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuShortcut({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'span'>) {\r\n  return (\r\n    <span\r\n      data-slot=\"dropdown-menu-shortcut\"\r\n      className={cn(\r\n        'text-muted-foreground ml-auto text-xs tracking-widest',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSub({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\r\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuSubTrigger({\r\n  className,\r\n  inset,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n      data-slot=\"dropdown-menu-sub-trigger\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronRightIcon className=\"ml-auto size-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSubContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubContent\r\n      data-slot=\"dropdown-menu-sub-content\"\r\n      className={cn(\r\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuPortal,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuLabel,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuSubContent,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/components/landing/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Menu, X, ChevronRight, User, LogOut, LayoutDashboard } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { RewardDisplay } from \"@/components/RewardDisplay\";\r\n\r\nexport const Header = () => {\r\n    const [isScrolled, setIsScrolled] = useState(false);\r\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n    const [user, setUser] = useState<any>(null);\r\n    const [userProfile, setUserProfile] = useState<any>(null);\r\n    const [userRole, setUserRole] = useState<string | null>(null);\r\n    const pathname = usePathname();\r\n    const router = useRouter();\r\n    const supabase = createClient();\r\n\r\n    useEffect(() => {\r\n        const handleScroll = () => {\r\n            setIsScrolled(window.scrollY > 20);\r\n        };\r\n        window.addEventListener(\"scroll\", handleScroll);\r\n        return () => window.removeEventListener(\"scroll\", handleScroll);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Check authentication status\r\n        const checkAuth = async () => {\r\n            const { data: { user } } = await supabase.auth.getUser();\r\n            setUser(user);\r\n\r\n            if (user) {\r\n                // Fetch user profile including avatar\r\n                const { data: profile } = await supabase\r\n                    .from(\"profiles\")\r\n                    .select(\"role, avatar_url, full_name\")\r\n                    .eq(\"id\", user.id)\r\n                    .single();\r\n                setUserProfile(profile);\r\n                setUserRole(profile?.role || null);\r\n            }\r\n        };\r\n\r\n        checkAuth();\r\n\r\n        // Listen for auth changes\r\n        const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n            setUser(session?.user || null);\r\n            if (session?.user) {\r\n                supabase\r\n                    .from(\"profiles\")\r\n                    .select(\"role, avatar_url, full_name\")\r\n                    .eq(\"id\", session.user.id)\r\n                    .single()\r\n                    .then(({ data }) => {\r\n                        setUserProfile(data);\r\n                        setUserRole(data?.role || null);\r\n                    });\r\n            } else {\r\n                setUserProfile(null);\r\n                setUserRole(null);\r\n            }\r\n        });\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, []);\r\n\r\n    const handleSignOut = async () => {\r\n        await supabase.auth.signOut();\r\n        router.push(\"/\");\r\n    };\r\n\r\n    const getDashboardLink = () => {\r\n        if (userRole === \"admin\") return \"/admin/dashboard\";\r\n        return \"/student/dashboard\";\r\n    };\r\n\r\n    const navLinks = [\r\n        { name: \"Courses\", href: \"/courses\" },\r\n        { name: \"Test Series\", href: \"/test-series\" },\r\n        { name: \"About Us\", href: \"/about\" },\r\n        { name: \"Contact\", href: \"/contact\" },\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <motion.header\r\n                initial={{ y: -100 }}\r\n                animate={{ y: 0 }}\r\n                className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white/70 ${isScrolled\r\n                    ? \"bg-white/70 backdrop-blur-lg border-b border-white/20 py-2 shadow-lg shadow-black/5\"\r\n                    : \"bg-white/50 backdrop-blur-md border-b border-white/10 py-3\"\r\n                    }`}\r\n            >\r\n                <div className=\"max-w-7xl mx-auto px-6 flex items-center justify-between\">\r\n                    {/* Logo */}\r\n                    <Link href=\"/\" className=\"flex items-center gap-3 group\">\r\n                        <div className=\"relative h-12 w-auto transition-all group-hover:scale-105\">\r\n                            <Image\r\n                                src=\"/mathlogo.png\"\r\n                                alt=\"math4code Academy Logo\"\r\n                                width={500}\r\n                                height={100}\r\n                                className=\"h-12 w-auto object-contain\"\r\n                                priority\r\n                            />\r\n                        </div>\r\n                    </Link>\r\n\r\n                    {/* Desktop Nav */}\r\n                    <nav className=\"hidden md:flex items-center gap-8\">\r\n                        {navLinks.map((link) => (\r\n                            <Link\r\n                                key={link.name}\r\n                                href={link.href}\r\n                                className=\"text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors relative group\"\r\n                            >\r\n                                {link.name}\r\n                                <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-indigo-600 transition-all group-hover:w-full\" />\r\n                            </Link>\r\n                        ))}\r\n                    </nav>\r\n\r\n                    {/* Auth Buttons / Profile */}\r\n                    <div className=\"hidden md:flex items-center gap-3\">\r\n                        {user ? (\r\n                            <>\r\n                                {/* Dashboard Button */}\r\n                                <Link href={getDashboardLink()}>\r\n                                    <Button variant=\"ghost\" className=\"flex items-center gap-2 text-slate-600 hover:text-indigo-600 hover:bg-indigo-50\">\r\n                                        <LayoutDashboard className=\"w-4 h-4\" />\r\n                                        <span className=\"text-sm font-medium\">Dashboard</span>\r\n                                    </Button>\r\n                                </Link>\r\n\r\n                                {/* Profile Dropdown */}\r\n                                <DropdownMenu>\r\n                                    <DropdownMenuTrigger asChild>\r\n                                        <Button variant=\"ghost\" className=\"p-0 w-10 h-10 rounded-full hover:ring-2 hover:ring-indigo-200 transition-all\">\r\n                                            {userProfile?.avatar_url ? (\r\n                                                <Image\r\n                                                    src={userProfile.avatar_url}\r\n                                                    alt={userProfile?.full_name || \"Profile\"}\r\n                                                    width={40}\r\n                                                    height={40}\r\n                                                    className=\"w-10 h-10 rounded-full object-cover shadow-md hover:shadow-lg transition-shadow\"\r\n                                                    priority\r\n                                                />\r\n                                            ) : (\r\n                                                <div className=\"w-10 h-10 rounded-full bg-linear-to-br from-indigo-600 to-violet-600 flex items-center justify-center text-white font-bold text-lg shadow-md hover:shadow-lg transition-shadow\">\r\n                                                    {user.email?.[0].toUpperCase()}\r\n                                                </div>\r\n                                            )}\r\n                                        </Button>\r\n                                    </DropdownMenuTrigger>\r\n                                    <DropdownMenuContent align=\"end\" className=\"w-64 p-2\">\r\n                                        {/* User Info Header */}\r\n                                        <div className=\"px-3 py-3 mb-2 border-b border-gray-100\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                {userProfile?.avatar_url ? (\r\n                                                    <Image\r\n                                                        src={userProfile.avatar_url}\r\n                                                        alt={userProfile?.full_name || \"Profile\"}\r\n                                                        width={40}\r\n                                                        height={40}\r\n                                                        className=\"w-10 h-10 rounded-full object-cover shadow-md\"\r\n                                                    />\r\n                                                ) : (\r\n                                                    <div className=\"w-10 h-10 rounded-full bg-linear-to-br from-indigo-600 to-violet-600 flex items-center justify-center text-white font-bold text-lg shadow-md\">\r\n                                                        {user.email?.[0].toUpperCase()}\r\n                                                    </div>\r\n                                                )}\r\n                                                <div className=\"flex-1 min-w-0\">\r\n                                                    <p className=\"text-sm font-semibold text-gray-900 truncate\">\r\n                                                        {user.email?.split('@')[0]}\r\n                                                    </p>\r\n                                                    <p className=\"text-xs text-gray-500 truncate\">\r\n                                                        {user.email}\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Menu Items */}\r\n                                        <DropdownMenuItem asChild>\r\n                                            <Link href=\"/student/settings\" className=\"flex items-center gap-3 px-3 py-2.5 cursor-pointer rounded-lg hover:bg-indigo-50 transition-colors\">\r\n                                                <User className=\"w-4 h-4 text-indigo-600\" />\r\n                                                <span className=\"text-sm font-medium text-gray-700\">Profile</span>\r\n                                            </Link>\r\n                                        </DropdownMenuItem>\r\n\r\n                                        <DropdownMenuItem asChild>\r\n                                            <Link href={getDashboardLink()} className=\"flex items-center gap-3 px-3 py-2.5 cursor-pointer rounded-lg hover:bg-indigo-50 transition-colors\">\r\n                                                <LayoutDashboard className=\"w-4 h-4 text-indigo-600\" />\r\n                                                <span className=\"text-sm font-medium text-gray-700\">Dashboard</span>\r\n                                            </Link>\r\n                                        </DropdownMenuItem>\r\n\r\n                                        <DropdownMenuSeparator className=\"my-2\" />\r\n\r\n                                        <DropdownMenuItem onClick={handleSignOut} className=\"flex items-center gap-3 px-3 py-2.5 cursor-pointer rounded-lg hover:bg-rose-50 transition-colors\">\r\n                                            <LogOut className=\"w-4 h-4 text-rose-600\" />\r\n                                            <span className=\"text-sm font-medium text-rose-600\">Sign out</span>\r\n                                        </DropdownMenuItem>\r\n                                    </DropdownMenuContent>\r\n                                </DropdownMenu>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Link href=\"/auth/login\">\r\n                                    <Button variant=\"ghost\" className=\"text-slate-600 hover:text-indigo-600 hover:bg-indigo-50\">\r\n                                        Log in\r\n                                    </Button>\r\n                                </Link>\r\n                                <Link href=\"/auth/sign-up\">\r\n                                    <Button className=\"bg-linear-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 text-white shadow-lg shadow-indigo-500/20 rounded-full px-6\">\r\n                                        Sign up\r\n                                    </Button>\r\n                                </Link>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Mobile Menu Toggle */}\r\n                    <button\r\n                        className=\"md:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors\"\r\n                        onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\r\n                    >\r\n                        {isMobileMenuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\r\n                    </button>\r\n                </div>\r\n            </motion.header>\r\n\r\n            {/* Mobile Menu */}\r\n            <AnimatePresence>\r\n                {isMobileMenuOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, height: 0 }}\r\n                        animate={{ opacity: 1, height: \"auto\" }}\r\n                        exit={{ opacity: 0, height: 0 }}\r\n                        className=\"fixed top-[60px] left-0 right-0 bg-white border-b border-slate-200 z-40 md:hidden overflow-hidden shadow-xl\"\r\n                    >\r\n                        <div className=\"p-6 space-y-4\">\r\n                            {navLinks.map((link) => (\r\n                                <Link\r\n                                    key={link.name}\r\n                                    href={link.href}\r\n                                    onClick={() => setIsMobileMenuOpen(false)}\r\n                                    className=\"flex items-center justify-between p-3 rounded-xl hover:bg-slate-50 text-slate-600 hover:text-indigo-600 transition-colors\"\r\n                                >\r\n                                    <span className=\"font-medium\">{link.name}</span>\r\n                                    <ChevronRight className=\"w-4 h-4 opacity-50\" />\r\n                                </Link>\r\n                            ))}\r\n                            <div className=\"pt-4 border-t border-slate-100\">\r\n                                {user ? (\r\n                                    <div className=\"space-y-2\">\r\n                                        <Link href={getDashboardLink()} onClick={() => setIsMobileMenuOpen(false)}>\r\n                                            <Button variant=\"outline\" className=\"w-full justify-start gap-2 border-slate-200 text-slate-600 hover:border-indigo-200 hover:bg-indigo-50 hover:text-indigo-600\">\r\n                                                <LayoutDashboard className=\"w-4 h-4\" />\r\n                                                Dashboard\r\n                                            </Button>\r\n                                        </Link>\r\n                                        <Button onClick={() => { handleSignOut(); setIsMobileMenuOpen(false); }} variant=\"outline\" className=\"w-full justify-start gap-2 border-rose-200 text-rose-600 hover:bg-rose-50\">\r\n                                            <LogOut className=\"w-4 h-4\" />\r\n                                            Sign out\r\n                                        </Button>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <Link href=\"/auth/login\" onClick={() => setIsMobileMenuOpen(false)}>\r\n                                            <Button variant=\"outline\" className=\"w-full justify-center border-slate-200 text-slate-600 hover:border-indigo-200 hover:bg-indigo-50 hover:text-indigo-600\">\r\n                                                Log in\r\n                                            </Button>\r\n                                        </Link>\r\n                                        <Link href=\"/auth/sign-up\" onClick={() => setIsMobileMenuOpen(false)}>\r\n                                            <Button className=\"w-full justify-center bg-linear-to-r from-indigo-600 to-violet-600 text-white shadow-lg shadow-indigo-500/20\">\r\n                                                Sign up\r\n                                            </Button>\r\n                                        </Link>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1080, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/hooks/student/useChat.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\n// --- TYPES ---\r\nexport type Message = {\r\n    id?: string;\r\n    role: 'user' | 'ai';\r\n    content: string;\r\n    created_at?: string;\r\n};\r\n\r\nexport type ChatSession = {\r\n    id: string;\r\n    title: string;\r\n    created_at: string;\r\n};\r\n\r\n// --- CLIENT ---\r\nconst supabase = createClient();\r\n\r\n// --- KEYS ---\r\nexport const chatKeys = {\r\n    all: ['chat'] as const,\r\n    sessions: () => [...chatKeys.all, 'sessions'] as const,\r\n    messages: (sessionId: string | null) => [...chatKeys.all, 'messages', sessionId] as const,\r\n};\r\n\r\nexport const useChatHistory = (userId: string | null) => {\r\n    return useQuery({\r\n        queryKey: [...chatKeys.sessions(), userId],\r\n        queryFn: async () => {\r\n            if (!userId) return [];\r\n            const { data, error } = await supabase\r\n                .from('chat_sessions')\r\n                .select('*')\r\n                .eq('user_id', userId) // Filter sessions by user ID\r\n                .order('created_at', { ascending: false });\r\n\r\n            if (error) throw error;\r\n            return data as ChatSession[];\r\n        },\r\n        enabled: !!userId, // Only fetch if userId exists\r\n    });\r\n};\r\n\r\n// 2. Fetch Messages for a Session\r\nexport const useChatMessages = (sessionId: string | null) => {\r\n    return useQuery({\r\n        queryKey: chatKeys.messages(sessionId),\r\n        queryFn: async () => {\r\n            if (!sessionId) return [];\r\n            const { data, error } = await supabase\r\n                .from('chat_messages')\r\n                .select('*')\r\n                .eq('session_id', sessionId)\r\n                .order('created_at', { ascending: true });\r\n\r\n            if (error) throw error;\r\n\r\n            return data.map((msg: any) => ({\r\n                id: msg.id,\r\n                role: msg.role as 'user' | 'ai',\r\n                content: msg.content,\r\n                created_at: msg.created_at\r\n            })) as Message[];\r\n        },\r\n        enabled: !!sessionId,\r\n        staleTime: 1000 * 60 * 5,\r\n    });\r\n};\r\n\r\n// 3. Create a New Session (Modified to include userId)\r\nexport const useCreateSession = () => {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async ({ firstMessage, userId }: { firstMessage: string, userId: string }) => {\r\n            const title = firstMessage.length > 40 ? firstMessage.substring(0, 40) + \"...\" : firstMessage;\r\n            const { data, error } = await supabase\r\n                .from('chat_sessions')\r\n                .insert([{ title, user_id: userId }]) // Save with user ID\r\n                .select()\r\n                .single();\r\n\r\n            if (error) {\r\n                console.error(\"Session Creation Detailed Error:\", {\r\n                    message: error.message,\r\n                    details: error.details,\r\n                    hint: error.hint,\r\n                    code: error.code,\r\n                    data: { title, user_id: userId }\r\n                });\r\n                throw error;\r\n            }\r\n            return data as ChatSession;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: chatKeys.sessions() });\r\n        },\r\n    });\r\n};\r\n\r\n// 4. Save a Message\r\nexport const useSaveMessage = () => {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async ({ sessionId, role, content }: { sessionId: string; role: 'user' | 'ai'; content: string }) => {\r\n            const { data, error } = await supabase\r\n                .from('chat_messages')\r\n                .insert([{ session_id: sessionId, role, content }])\r\n                .select()\r\n                .single();\r\n\r\n            if (error) {\r\n                console.error(\"Message Save Detailed Error:\", {\r\n                    message: error.message,\r\n                    details: error.details,\r\n                    hint: error.hint,\r\n                    code: error.code,\r\n                    data: { session_id: sessionId, role, content }\r\n                });\r\n                throw error;\r\n            }\r\n            return data;\r\n        },\r\n        onSuccess: (_, variables) => {\r\n            queryClient.invalidateQueries({ queryKey: chatKeys.messages(variables.sessionId) });\r\n        },\r\n    });\r\n};\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AAAA;AACA;;;;AAgBA,iBAAiB;AACjB,MAAM,WAAW,IAAA,4IAAY;AAGtB,MAAM,WAAW;IACpB,KAAK;QAAC;KAAO;IACb,UAAU,IAAM;eAAI,SAAS,GAAG;YAAE;SAAW;IAC7C,UAAU,CAAC,YAA6B;eAAI,SAAS,GAAG;YAAE;YAAY;SAAU;AACpF;AAEO,MAAM,iBAAiB,CAAC;;IAC3B,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;eAAI,SAAS,QAAQ;YAAI;SAAO;QAC1C,OAAO;uCAAE;gBACL,IAAI,CAAC,QAAQ,OAAO,EAAE;gBACtB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QAAQ,6BAA6B;iBACnD,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAE5C,IAAI,OAAO,MAAM;gBACjB,OAAO;YACX;;QACA,SAAS,CAAC,CAAC;IACf;AACJ;GAhBa;;QACF,0LAAQ;;;AAkBZ,MAAM,kBAAkB,CAAC;;IAC5B,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU,SAAS,QAAQ,CAAC;QAC5B,OAAO;wCAAE;gBACL,IAAI,CAAC,WAAW,OAAO,EAAE;gBACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,WACjB,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAK;gBAE3C,IAAI,OAAO,MAAM;gBAEjB,OAAO,KAAK,GAAG;gDAAC,CAAC,MAAa,CAAC;4BAC3B,IAAI,IAAI,EAAE;4BACV,MAAM,IAAI,IAAI;4BACd,SAAS,IAAI,OAAO;4BACpB,YAAY,IAAI,UAAU;wBAC9B,CAAC;;YACL;;QACA,SAAS,CAAC,CAAC;QACX,WAAW,OAAO,KAAK;IAC3B;AACJ;IAvBa;;QACF,0LAAQ;;;AAyBZ,MAAM,mBAAmB;;IAC5B,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;4CAAE,OAAO,EAAE,YAAY,EAAE,MAAM,EAA4C;gBACjF,MAAM,QAAQ,aAAa,MAAM,GAAG,KAAK,aAAa,SAAS,CAAC,GAAG,MAAM,QAAQ;gBACjF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,iBACL,MAAM,CAAC;oBAAC;wBAAE;wBAAO,SAAS;oBAAO;iBAAE,EAAE,oBAAoB;iBACzD,MAAM,GACN,MAAM;gBAEX,IAAI,OAAO;oBACP,QAAQ,KAAK,CAAC,oCAAoC;wBAC9C,SAAS,MAAM,OAAO;wBACtB,SAAS,MAAM,OAAO;wBACtB,MAAM,MAAM,IAAI;wBAChB,MAAM,MAAM,IAAI;wBAChB,MAAM;4BAAE;4BAAO,SAAS;wBAAO;oBACnC;oBACA,MAAM;gBACV;gBACA,OAAO;YACX;;QACA,SAAS;4CAAE;gBACP,YAAY,iBAAiB,CAAC;oBAAE,UAAU,SAAS,QAAQ;gBAAG;YAClE;;IACJ;AACJ;IA5Ba;;QACW,2MAAc;QAE3B,gMAAW;;;AA4Bf,MAAM,iBAAiB;;IAC1B,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;0CAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAA+D;gBACxG,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,iBACL,MAAM,CAAC;oBAAC;wBAAE,YAAY;wBAAW;wBAAM;oBAAQ;iBAAE,EACjD,MAAM,GACN,MAAM;gBAEX,IAAI,OAAO;oBACP,QAAQ,KAAK,CAAC,gCAAgC;wBAC1C,SAAS,MAAM,OAAO;wBACtB,SAAS,MAAM,OAAO;wBACtB,MAAM,MAAM,IAAI;wBAChB,MAAM,MAAM,IAAI;wBAChB,MAAM;4BAAE,YAAY;4BAAW;4BAAM;wBAAQ;oBACjD;oBACA,MAAM;gBACV;gBACA,OAAO;YACX;;QACA,SAAS;0CAAE,CAAC,GAAG;gBACX,YAAY,iBAAiB,CAAC;oBAAE,UAAU,SAAS,QAAQ,CAAC,UAAU,SAAS;gBAAE;YACrF;;IACJ;AACJ;IA3Ba;;QACW,2MAAc;QAE3B,gMAAW"}},
    {"offset": {"line": 1268, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/hooks/usePublicCourses.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\nexport interface PublicCourse {\r\n    id: string;\r\n    title: string;\r\n    description: string | null;\r\n    category: string | null;\r\n    price: number;\r\n    thumbnail_url: string | null;\r\n    is_published: boolean;\r\n    created_at: string;\r\n    creator_id: string;\r\n    profiles?: {\r\n        full_name: string;\r\n    };\r\n}\r\n\r\nexport const usePublicCourses = () => {\r\n    const supabase = createClient();\r\n\r\n    return useQuery({\r\n        queryKey: [\"public-courses\"],\r\n        queryFn: async () => {\r\n            const { data, error } = await supabase\r\n                .from(\"courses\")\r\n                .select(\"*, profiles:creator_id(full_name)\")\r\n                .eq(\"is_published\", true)\r\n                .eq(\"course_type\", \"course\")\r\n                .order(\"created_at\", { ascending: false });\r\n\r\n            if (error) throw error;\r\n            return data as PublicCourse[];\r\n        },\r\n        staleTime: 1000 * 60 * 5, // 5 minutes\r\n    });\r\n};\r\n\r\nexport const usePublicCoursesByCategory = (category?: string) => {\r\n    const supabase = createClient();\r\n\r\n    return useQuery({\r\n        queryKey: [\"public-courses\", category],\r\n        queryFn: async () => {\r\n            let query = supabase\r\n                .from(\"courses\")\r\n                .select(\"*, profiles:creator_id(full_name)\")\r\n                .eq(\"is_published\", true);\r\n\r\n            if (category) {\r\n                query = query.eq(\"category\", category);\r\n            }\r\n\r\n            const { data, error } = await query.order(\"created_at\", { ascending: false });\r\n\r\n            if (error) throw error;\r\n            return data as PublicCourse[];\r\n        },\r\n        staleTime: 1000 * 60 * 5,\r\n    });\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;AAiBO,MAAM,mBAAmB;;IAC5B,MAAM,WAAW,IAAA,4IAAY;IAE7B,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAiB;QAC5B,OAAO;yCAAE;gBACL,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,WACL,MAAM,CAAC,qCACP,EAAE,CAAC,gBAAgB,MACnB,EAAE,CAAC,eAAe,UAClB,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAE5C,IAAI,OAAO,MAAM;gBACjB,OAAO;YACX;;QACA,WAAW,OAAO,KAAK;IAC3B;AACJ;GAlBa;;QAGF,0LAAQ;;;AAiBZ,MAAM,6BAA6B,CAAC;;IACvC,MAAM,WAAW,IAAA,4IAAY;IAE7B,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAkB;SAAS;QACtC,OAAO;mDAAE;gBACL,IAAI,QAAQ,SACP,IAAI,CAAC,WACL,MAAM,CAAC,qCACP,EAAE,CAAC,gBAAgB;gBAExB,IAAI,UAAU;oBACV,QAAQ,MAAM,EAAE,CAAC,YAAY;gBACjC;gBAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,MAAM,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAE3E,IAAI,OAAO,MAAM;gBACjB,OAAO;YACX;;QACA,WAAW,OAAO,KAAK;IAC3B;AACJ;IAtBa;;QAGF,0LAAQ"}},
    {"offset": {"line": 1339, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/hooks/usePublicTestSeries.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\nexport interface PublicTestSeries {\r\n    id: string;\r\n    title: string;\r\n    description: string | null;\r\n    price: number;\r\n    thumbnail_url: string | null;\r\n    created_at: string;\r\n    creator_id: string;\r\n}\r\n\r\nexport const usePublicTestSeries = () => {\r\n    const supabase = createClient();\r\n\r\n    return useQuery({\r\n        queryKey: [\"public-test-series\"],\r\n        queryFn: async () => {\r\n            const { data, error } = await supabase\r\n                .from(\"courses\")\r\n                .select(\"*\")\r\n                .eq(\"is_published\", true)\r\n                .eq(\"course_type\", \"test_series\")\r\n                .order(\"created_at\", { ascending: false });\r\n            if (error) throw error;\r\n            return data as PublicTestSeries[];\r\n        },\r\n        staleTime: 1000 * 60 * 5, // 5 minutes\r\n    });\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAYO,MAAM,sBAAsB;;IAC/B,MAAM,WAAW,IAAA,4IAAY;IAE7B,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAqB;QAChC,OAAO;4CAAE;gBACL,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,gBAAgB,MACnB,EAAE,CAAC,eAAe,eAClB,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAC5C,IAAI,OAAO,MAAM;gBACjB,OAAO;YACX;;QACA,WAAW,OAAO,KAAK;IAC3B;AACJ;GAjBa;;QAGF,0LAAQ"}},
    {"offset": {"line": 1379, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/components/landing/AIMentor.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { useMemo, useRef, useState, useEffect } from \"react\";\r\nimport {\r\n    Bot, X, Loader2, Send, MessageSquare, ShoppingCart,\r\n    ChevronsRight, ChevronsLeft, Plus, ChevronDown,\r\n    Paperclip, Mic, ArrowUp\r\n} from \"lucide-react\";\r\nimport { useChatHistory, useChatMessages, useCreateSession, useSaveMessage } from \"@/hooks/student/useChat\";\r\nimport { usePublicCourses } from \"@/hooks/usePublicCourses\";\r\nimport { usePublicTestSeries } from \"@/hooks/usePublicTestSeries\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// --- TYPES ---\r\nexport type Message = {\r\n    id?: string;\r\n    role: 'user' | 'ai';\r\n    content: string;\r\n    created_at?: string;\r\n};\r\n\r\nexport type ChatSession = {\r\n    id: string;\r\n    title: string;\r\n    created_at: string;\r\n};\r\n\r\n// --- REACT QUERY KEYS ---\r\nexport const chatKeys = {\r\n    all: ['chat'] as const,\r\n    sessions: () => [...chatKeys.all, 'sessions'] as const,\r\n    messages: (sessionId: string | null) => [...chatKeys.all, 'messages', sessionId] as const,\r\n};\r\n\r\n\r\n\r\nexport const callGemini = async (prompt: string, systemInstruction: string = \"\") => {\r\n    const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY;\r\n    if (!apiKey) {\r\n        throw new Error(\"Gemini API key is missing. Please check NEXT_PUBLIC_GEMINI_API_KEY in your environment variables.\");\r\n    }\r\n\r\n    let delay = 1000;\r\n    for (let i = 0; i < 3; i++) {\r\n        try {\r\n            const response = await fetch(\r\n                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        contents: [{ parts: [{ text: prompt }] }],\r\n                        systemInstruction: systemInstruction ? { parts: [{ text: systemInstruction }] } : undefined\r\n                    })\r\n                }\r\n            );\r\n            if (!response.ok) {\r\n                const errorData = await response.json().catch(() => ({}));\r\n                const apiErrorMessage = errorData.error?.message || response.statusText || `HTTP ${response.status}`;\r\n                throw new Error(`Gemini API Error: ${apiErrorMessage}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            return data.candidates?.[0]?.content?.parts?.[0]?.text || \"I couldn't generate a response.\";\r\n        } catch (error: any) {\r\n            if (i === 2) throw error;\r\n            await new Promise(r => setTimeout(r, delay));\r\n            delay *= 2;\r\n        }\r\n    }\r\n};\r\n\r\n// --- KaTeX Components ---\r\nconst useKaTeX = () => {\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined') return;\r\n        if ((window as any).katex) { setIsLoaded(true); return; }\r\n        const link = document.createElement('link'); link.rel = 'stylesheet'; link.href = 'https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css'; document.head.appendChild(link);\r\n        const script = document.createElement('script'); script.src = 'https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js'; script.onload = () => setIsLoaded(true); document.head.appendChild(script);\r\n    }, []);\r\n    return isLoaded;\r\n};\r\nconst LatexSpan = ({ content }: { content: string }) => {\r\n    const spanRef = useRef<HTMLSpanElement>(null);\r\n    const katexLoaded = useKaTeX();\r\n    useEffect(() => {\r\n        if (katexLoaded && spanRef.current && (window as any).katex) {\r\n            try { (window as any).katex.render(content, spanRef.current, { throwOnError: false, output: 'mathml' }); } catch (e) { spanRef.current.innerText = content; }\r\n        }\r\n    }, [content, katexLoaded]);\r\n    if (!katexLoaded) return <span className=\"font-mono text-pink-600\">{content}</span>;\r\n    return <span ref={spanRef} className=\"mx-1\" />;\r\n};\r\n\r\n// --- MAIN CHAT COMPONENT ---\r\n// --- MAIN CHAT COMPONENT ---\r\nfunction AIMentorContent() {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n    const [query, setQuery] = useState(\"\");\r\n    const [currentSessionId, setCurrentSessionId] = useState<string | null>(null);\r\n    const [userId, setUserId] = useState<string | null>(null);\r\n    const [isGuest, setIsGuest] = useState(true);\r\n    const supabaseClient = createClient();\r\n\r\n    // Local Storage Helpers for Guest Mode\r\n    const getLocalSessions = (): ChatSession[] => {\r\n        if (typeof window === 'undefined') return [];\r\n        return JSON.parse(localStorage.getItem('guest_chat_sessions') || '[]');\r\n    };\r\n    const saveLocalSession = (session: ChatSession) => {\r\n        const sessions = getLocalSessions();\r\n        localStorage.setItem('guest_chat_sessions', JSON.stringify([session, ...sessions]));\r\n    };\r\n    const getLocalMessages = (sessionId: string): Message[] => {\r\n        if (typeof window === 'undefined') return [];\r\n        return JSON.parse(localStorage.getItem(`guest_chat_messages_${sessionId}`) || '[]');\r\n    };\r\n    const saveLocalMessage = (sessionId: string, message: Message) => {\r\n        const messages = getLocalMessages(sessionId);\r\n        localStorage.setItem(`guest_chat_messages_${sessionId}`, JSON.stringify([...messages, message]));\r\n    };\r\n\r\n    // Initialize Unique User ID for Browser-wise History\r\n    useEffect(() => {\r\n        const initUserId = async () => {\r\n            // 1. Try to get logged in user first\r\n            const { data: { user } } = await supabaseClient.auth.getUser();\r\n\r\n            if (user) {\r\n                setUserId(user.id);\r\n                setIsGuest(false);\r\n                return;\r\n            }\r\n\r\n            // 2. Fallback to browser ID for anonymous chat\r\n            let id = localStorage.getItem('chat_browser_id');\r\n            if (!id) {\r\n                // Generate a valid UUID v4 format even if crypto.randomUUID is missing\r\n                if (crypto.randomUUID) {\r\n                    id = crypto.randomUUID();\r\n                } else {\r\n                    // Simple UUID-v4-like string generator\r\n                    id = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                        const r = Math.random() * 16 | 0;\r\n                        const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n                        return v.toString(16);\r\n                    });\r\n                }\r\n                localStorage.setItem('chat_browser_id', id);\r\n            }\r\n            setUserId(id);\r\n            setIsGuest(true);\r\n        };\r\n        initUserId();\r\n    }, []);\r\n\r\n    // React Query Hooks\r\n    const { data: serverHistory, isLoading: isHistoryLoading } = useChatHistory(isGuest ? null : userId);\r\n    const chatHistory = useMemo(() => {\r\n        if (isGuest) return getLocalSessions();\r\n        return serverHistory;\r\n    }, [isGuest, serverHistory]);\r\n\r\n    const { data: serverMessages, isLoading: isMessagesLoading } = useChatMessages(!isGuest ? currentSessionId : null);\r\n\r\n    // FETCH REAL CATALOG DATA\r\n    const { data: courses, isLoading: coursesLoading } = usePublicCourses();\r\n    const { data: testSeries, isLoading: testsLoading } = usePublicTestSeries();\r\n\r\n    // Mutations\r\n    const createSessionMutation = useCreateSession();\r\n    const saveMessageMutation = useSaveMessage();\r\n\r\n    // Local UI state\r\n    const [messages, setMessages] = useState<Message[] | null>(null);\r\n    const [isGenerating, setIsGenerating] = useState(false);\r\n    const messagesEndRef = useRef<HTMLDivElement>(null);\r\n    const router = useRouter();\r\n\r\n    // Construct Dynamic Knowledge Base from Real Data\r\n    const knowledgeBase = useMemo(() => {\r\n        if (coursesLoading || testsLoading) return \"Catalog loading...\";\r\n\r\n        return JSON.stringify({\r\n            courses: courses?.map(c => ({\r\n                id: c.id,\r\n                title: c.title,\r\n                price: c.price,\r\n                description: c.description || \"No description available\",\r\n                category: c.category\r\n            })) || [],\r\n            test_series: testSeries?.map(t => ({\r\n                id: t.id,\r\n                title: t.title,\r\n                price: t.price,\r\n                description: t.description || \"No description available\"\r\n            })) || []\r\n        });\r\n    }, [courses, testSeries, coursesLoading, testsLoading]);\r\n\r\n    // Sync Messages (Local or Server)\r\n    useEffect(() => {\r\n        if (isGuest && currentSessionId) {\r\n            setMessages(getLocalMessages(currentSessionId));\r\n        } else if (serverMessages) {\r\n            setMessages(serverMessages);\r\n        } else if (currentSessionId === null) {\r\n            setMessages(null);\r\n        }\r\n    }, [serverMessages, currentSessionId, isGuest]);\r\n\r\n    const scrollToBottom = () => { messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" }); };\r\n    useEffect(() => { if (isOpen && messages) scrollToBottom(); }, [messages, isOpen]);\r\n\r\n    const loadSession = (sessionId: string) => {\r\n        setCurrentSessionId(sessionId);\r\n        setIsSidebarOpen(false);\r\n    };\r\n\r\n    const startNewChat = () => {\r\n        setCurrentSessionId(null);\r\n        setMessages(null);\r\n        setIsSidebarOpen(false);\r\n    };\r\n\r\n    const handleSend = async () => {\r\n        if (!query.trim()) return;\r\n        const userText = query;\r\n\r\n        // Optimistic Update\r\n        const optimisticUserMsg: Message = { role: 'user', content: userText, created_at: new Date().toISOString() };\r\n        setMessages(prev => prev ? [...prev, optimisticUserMsg] : [optimisticUserMsg]);\r\n        setQuery(\"\");\r\n        setIsGenerating(true);\r\n\r\n        try {\r\n            let activeSessionId = currentSessionId;\r\n            if (!activeSessionId) {\r\n                if (!userId) throw new Error(\"User ID not initialized\");\r\n\r\n                if (isGuest) {\r\n                    const newSession: ChatSession = {\r\n                        id: crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substring(2, 15),\r\n                        title: userText.length > 40 ? userText.substring(0, 40) + \"...\" : userText,\r\n                        created_at: new Date().toISOString()\r\n                    };\r\n                    saveLocalSession(newSession);\r\n                    activeSessionId = newSession.id;\r\n                } else {\r\n                    const newSession = await createSessionMutation.mutateAsync({ firstMessage: userText, userId });\r\n                    activeSessionId = newSession.id;\r\n                }\r\n                setCurrentSessionId(activeSessionId);\r\n            }\r\n\r\n            if (isGuest) {\r\n                saveLocalMessage(activeSessionId!, optimisticUserMsg);\r\n            } else {\r\n                saveMessageMutation.mutate({ sessionId: activeSessionId!, role: 'user', content: userText });\r\n            }\r\n\r\n            const systemPrompt = `\r\n                You are math4code Ai expert, an expert AI tutor for math4code.\r\n                \r\n                CATALOG DATA: ${knowledgeBase}\r\n                \r\n                CRITICAL RULES:\r\n                1. Answer user questions based on the catalog data above.\r\n                2. If you recommend a specific Course or Test Series, you MUST append its exact ID wrapped in double curly braces {{id}} immediately after the name.\r\n                3. Use **bold** markdown for course titles/prices.\r\n                4. Use LaTeX format enclosed in single $ symbols for ANY math expressions.\r\n                Keep answers helpful, concise, and friendly.\r\n            `;\r\n\r\n            const aiResponseText = await callGemini(userText, systemPrompt);\r\n\r\n            const aiMsg: Message = { role: 'ai', content: aiResponseText, created_at: new Date().toISOString() };\r\n            setMessages(prev => prev ? [...prev, aiMsg] : [aiMsg]);\r\n\r\n            if (isGuest) {\r\n                saveLocalMessage(activeSessionId!, aiMsg);\r\n            } else {\r\n                saveMessageMutation.mutate({ sessionId: activeSessionId!, role: 'ai', content: aiResponseText });\r\n            }\r\n\r\n        } catch (e: any) {\r\n            console.error(\"Chat Error Detailed:\", {\r\n                message: e.message || \"Unknown error\",\r\n                details: e.details,\r\n                hint: e.hint,\r\n                code: e.code,\r\n                stack: e.stack,\r\n                error: e\r\n            });\r\n            const errorMsg: Message = { role: 'ai', content: \"Sorry, I'm having trouble connecting to the server.\", created_at: new Date().toISOString() };\r\n            setMessages(prev => prev ? [...prev, errorMsg] : [errorMsg]);\r\n        } finally {\r\n            setIsGenerating(false);\r\n        }\r\n    };\r\n\r\n    const handleBuy = (productId: string) => {\r\n        setIsOpen(false);\r\n        router.push(`/courses/${productId}`); // Uncomment for real navigation\r\n    };\r\n\r\n    const parseFormattedText = (text: string) => {\r\n        if (!text) return null;\r\n        const boldChunks = text.split(/(\\*\\*.*?\\*\\*)/g);\r\n        return boldChunks.map((chunk, i) => {\r\n            if (chunk.startsWith('**') && chunk.endsWith('**')) {\r\n                return <strong key={`bold-${i}`} className=\"font-bold text-[#1F2A6B]\">{chunk.slice(2, -2)}</strong>;\r\n            }\r\n            const mathChunks = chunk.split(/(\\$[^\\$]+\\$)/g);\r\n            return mathChunks.map((subChunk, j) => {\r\n                if (subChunk.startsWith('$') && subChunk.endsWith('$')) {\r\n                    return <LatexSpan key={`math-${i}-${j}`} content={subChunk.slice(1, -1)} />;\r\n                }\r\n                return <span key={`text-${i}-${j}`}>{subChunk}</span>;\r\n            });\r\n        });\r\n    };\r\n\r\n    const renderMessageContent = (text: string) => {\r\n        if (!text) return null;\r\n\r\n        // 1. Extract IDs from the text to separate them from the message content\r\n        const productIds: string[] = [];\r\n        const cleanText = text.replace(/\\{\\{([a-zA-Z0-9-_]+)\\}\\}/g, (match, id) => {\r\n            productIds.push(id);\r\n            return \"\"; // Remove the ID tag from the display text\r\n        });\r\n\r\n        // 2. Resolve Products from the IDs\r\n        const products = productIds.map(id => {\r\n            return courses?.find(c => c.id === id) || testSeries?.find(t => t.id === id);\r\n        }).filter(Boolean); // Filter out undefined if ID not found\r\n\r\n        return (\r\n            <div className=\"flex flex-col gap-3\">\r\n                {/* Render the clean text (without {{id}} tags) */}\r\n                <div className=\"whitespace-pre-wrap leading-relaxed\">\r\n                    {parseFormattedText(cleanText)}\r\n                </div>\r\n\r\n                {/* Render Horizontal Scrolling Carousel if products exist */}\r\n                {products.length > 0 && (\r\n                    <div className=\"flex gap-4 overflow-x-auto pb-4 pt-2 -mx-2 px-2 scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-transparent items-stretch\">\r\n                        {products.map((product, idx) => (\r\n                            <motion.div\r\n                                initial={{ opacity: 0, scale: 0.95 }}\r\n                                animate={{ opacity: 1, scale: 1 }}\r\n                                key={`${product!.id}-${idx}`}\r\n                                className=\"min-w-[240px] w-[240px] bg-white rounded-xl border border-indigo-100 shadow-sm hover:shadow-md transition-all flex flex-col overflow-hidden shrink-0\"\r\n                            >\r\n                                {/* Thumbnail Image */}\r\n                                <div className=\"h-32 w-full bg-gray-100 relative overflow-hidden\">\r\n                                    {product!.thumbnail_url ? (\r\n                                        <img\r\n                                            src={product!.thumbnail_url}\r\n                                            alt={product!.title}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"w-full h-full flex items-center justify-center bg-linear-to-br from-indigo-50 to-purple-50 text-indigo-200\">\r\n                                            <Bot size={40} />\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"absolute top-2 right-2 bg-white/90 backdrop-blur-sm px-2 py-0.5 rounded-md text-[10px] font-bold text-indigo-600 shadow-sm\">\r\n                                        ${product!.price}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Content */}\r\n                                <div className=\"p-3 flex flex-col flex-1\">\r\n                                    <div className=\"text-[10px] uppercase font-bold text-indigo-500 tracking-wider mb-1\">\r\n                                        {(product as any).category || 'Course'}\r\n                                    </div>\r\n                                    <h4 className=\"font-bold text-gray-800 text-sm leading-tight mb-1 line-clamp-2\" title={product!.title}>\r\n                                        {product!.title}\r\n                                    </h4>\r\n                                    <p className=\"text-[11px] text-slate-500 line-clamp-2 mb-3 flex-1\">\r\n                                        {product!.description || \"No description available.\"}\r\n                                    </p>\r\n\r\n                                    <button\r\n                                        onClick={() => handleBuy(product!.id)}\r\n                                        className=\"w-full bg-[#1F2A6B] hover:bg-indigo-800 active:scale-95 text-white text-xs font-bold py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-all mt-auto\"\r\n                                    >\r\n                                        <ShoppingCart size={14} /> View Details\r\n                                    </button>\r\n                                </div>\r\n                            </motion.div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                        exit={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                        transition={{ duration: 0.2 }}\r\n                        className=\"fixed bottom-24 right-6 w-[90vw] md:w-[400px] h-[500px] max-h-[80vh] bg-white rounded-3xl shadow-2xl border border-gray-100 z-[9999] overflow-hidden flex flex-col font-sans\"\r\n                    >\r\n                        {/* --- HEADER --- */}\r\n                        <div className=\"flex items-center justify-between px-4 py-3 bg-white border-b border-gray-50 z-20\">\r\n                            <button\r\n                                onClick={() => setIsSidebarOpen(!isSidebarOpen)}\r\n                                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600\"\r\n                            >\r\n                                <ChevronsRight size={20} />\r\n                            </button>\r\n\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <div className=\"w-6 h-6 rounded-full bg-linear-to-tr from-pink-500 to-orange-400 flex items-center justify-center text-white text-xs font-bold shadow-sm\">\r\n                                    <Bot size={14} />\r\n                                </div>\r\n                                <span className=\"font-semibold text-gray-800 text-sm\">math4code Ai</span>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <button onClick={startNewChat} className=\"p-2 hover:bg-gray-100 rounded-full text-gray-600\" title=\"New Chat\">\r\n                                    <Plus size={20} />\r\n                                </button>\r\n                                <button onClick={() => setIsOpen(false)} className=\"p-2 hover:bg-gray-100 rounded-full text-gray-600\" title=\"Close\">\r\n                                    <ChevronDown size={20} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* --- CONTENT CONTAINER --- */}\r\n                        <div className=\"flex-1 relative flex overflow-hidden\">\r\n\r\n                            {/* --- SIDEBAR (HISTORY) --- */}\r\n                            <AnimatePresence>\r\n                                {isSidebarOpen && (\r\n                                    <motion.div\r\n                                        initial={{ x: \"-100%\" }}\r\n                                        animate={{ x: 0 }}\r\n                                        exit={{ x: \"-100%\" }}\r\n                                        transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n                                        className=\"absolute top-0 left-0 bottom-0 w-64 bg-white z-30 shadow-[4px_0_24px_rgba(0,0,0,0.05)] border-r border-gray-100 flex flex-col\"\r\n                                    >\r\n                                        <div className=\"p-4 flex justify-between items-center text-gray-500 text-xs font-medium tracking-wider\">\r\n                                            QUICK ACTIONS\r\n                                            <button onClick={() => setIsSidebarOpen(false)} className=\"hover:text-gray-800\"><ChevronsLeft size={18} /></button>\r\n                                        </div>\r\n\r\n                                        <div className=\"px-2\">\r\n                                            <button onClick={startNewChat} className=\"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl text-left text-gray-700 transition-colors\">\r\n                                                <MessageSquare size={18} className=\"text-gray-400\" />\r\n                                                <span className=\"text-sm font-medium\">Start new chat</span>\r\n                                            </button>\r\n                                        </div>\r\n\r\n                                        <div className=\"mt-6 px-4 text-gray-500 text-xs font-medium tracking-wider mb-2\">\r\n                                            RECENT CONVERSATIONS\r\n                                        </div>\r\n                                        <div className=\"flex-1 overflow-y-auto px-2 pb-4 space-y-1 scrollbar-thin scrollbar-thumb-gray-200\">\r\n                                            {isHistoryLoading ? (\r\n                                                <div className=\"flex justify-center p-4\"><Loader2 size={16} className=\"animate-spin text-gray-400\" /></div>\r\n                                            ) : chatHistory?.length === 0 ? (\r\n                                                <div className=\"px-4 text-xs text-gray-400 italic\">No history yet</div>\r\n                                            ) : (\r\n                                                chatHistory?.map((hist: any) => (\r\n                                                    <button\r\n                                                        key={hist.id}\r\n                                                        onClick={() => loadSession(hist.id)}\r\n                                                        className={`w-full text-left p-3 rounded-xl text-sm truncate transition-all duration-200\r\n                                                        ${currentSessionId === hist.id\r\n                                                                ? 'bg-indigo-50 text-[#1F2A6B] font-medium shadow-sm'\r\n                                                                : 'hover:bg-gray-50 text-gray-600'\r\n                                                            }`}\r\n                                                    >\r\n                                                        {hist.title}\r\n                                                    </button>\r\n                                                ))\r\n                                            )}\r\n                                        </div>\r\n                                    </motion.div>\r\n                                )}\r\n                            </AnimatePresence>\r\n\r\n                            {/* --- CHAT AREA --- */}\r\n                            <div className=\"flex-1 flex flex-col bg-white w-full\">\r\n                                <div className=\"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-gray-200\">\r\n\r\n                                    {/* Empty State */}\r\n                                    {!messages && !isMessagesLoading && (\r\n                                        <div className=\"h-full flex flex-col items-center justify-center text-center opacity-0 animate-[fadeIn_0.5s_ease-out_forwards]\">\r\n                                            <div className=\"w-16 h-16 rounded-full bg-linear-to-tr from-pink-500 to-orange-400 flex items-center justify-center mb-6 shadow-lg shadow-pink-200\">\r\n                                                <Bot size={32} className=\"text-white\" />\r\n                                            </div>\r\n                                            <h2 className=\"text-xl font-medium text-gray-800\">Hello! How can I assist you today?</h2>\r\n                                            <p className=\"text-sm text-gray-400 mt-2\">\r\n                                                {coursesLoading ? \"Loading catalog...\" : \"Ask about courses, test series, or math problems.\"}\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* Loading State (Messages) */}\r\n                                    {isMessagesLoading && (\r\n                                        <div className=\"flex justify-center items-center h-full\">\r\n                                            <Loader2 className=\"animate-spin text-gray-300\" size={24} />\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* Messages List */}\r\n                                    {messages && messages.map((msg, idx) => (\r\n                                        <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n                                            {msg.role === 'ai' && (\r\n                                                <div className=\"w-8 h-8 rounded-full bg-linear-to-tr from-pink-500 to-orange-400 flex items-center justify-center mr-2 shrink-0 mt-1 shadow-sm\">\r\n                                                    <Bot size={16} className=\"text-white\" />\r\n                                                </div>\r\n                                            )}\r\n                                            <div\r\n                                                className={`max-w-[85%] rounded-2xl px-4 py-3 text-sm leading-6 shadow-sm\r\n                                                ${msg.role === 'user'\r\n                                                        ? 'bg-gray-100 text-gray-800 rounded-tr-sm'\r\n                                                        : 'bg-white border border-gray-100 text-gray-700'\r\n                                                    }`}\r\n                                            >\r\n                                                {renderMessageContent(msg.content)}\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n\r\n                                    {isGenerating && (\r\n                                        <div className=\"flex items-center gap-2 pl-2 animate-pulse\">\r\n                                            <div className=\"w-8 h-8 rounded-full bg-linear-to-tr from-pink-500 to-orange-400 flex items-center justify-center shadow-sm\">\r\n                                                <Bot size={16} className=\"text-white\" />\r\n                                            </div>\r\n                                            <div className=\"bg-gray-100 rounded-full px-4 py-2 text-xs text-gray-500 flex items-center gap-2\">\r\n                                                <Loader2 size={12} className=\"animate-spin\" /> Thinking...\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                    <div ref={messagesEndRef} />\r\n                                </div>\r\n\r\n                                {/* --- FOOTER INPUT --- */}\r\n                                <div className=\"p-4 bg-white z-10 border-t border-gray-50\">\r\n                                    <div className=\"relative group\">\r\n                                        <div className={`absolute -inset-[1px] rounded-[24px] bg-linear-to-r from-cyan-400 via-purple-400 to-pink-400 opacity-30 transition-opacity duration-300 ${query ? 'opacity-100' : 'group-hover:opacity-60 opacity-0'}`} />\r\n\r\n                                        <div className=\"relative flex items-center bg-white border border-gray-200 rounded-[22px] px-4 py-2 shadow-sm focus-within:border-transparent\">\r\n                                            <button className=\"text-gray-400 hover:text-gray-600 transition-colors p-1\" title=\"Attach file (Demo)\">\r\n                                                <Paperclip size={20} />\r\n                                            </button>\r\n\r\n                                            <input\r\n                                                value={query}\r\n                                                onChange={(e) => setQuery(e.target.value)}\r\n                                                onKeyDown={(e) => {\r\n                                                    if (e.key === 'Enter' && !e.shiftKey) {\r\n                                                        e.preventDefault();\r\n                                                        handleSend();\r\n                                                    }\r\n                                                }}\r\n                                                placeholder=\"Ask me anything...\"\r\n                                                className=\"flex-1 bg-transparent border-none outline-none px-3 py-2 text-gray-700 placeholder:text-gray-400 font-normal\"\r\n                                            />\r\n\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                {!query && (\r\n                                                    <button className=\"text-gray-400 hover:text-gray-600 p-1\" title=\"Voice Input (Demo)\">\r\n                                                        <Mic size={20} />\r\n                                                    </button>\r\n                                                )}\r\n                                                <button\r\n                                                    onClick={handleSend}\r\n                                                    disabled={!query.trim() || isGenerating}\r\n                                                    className={`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 \r\n                                                    ${query.trim() ? 'bg-black text-white hover:scale-105 shadow-md' : 'bg-gray-100 text-gray-300'}`}\r\n                                                >\r\n                                                    <ArrowUp size={16} />\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-center mt-2\">\r\n                                        <p className=\"text-[10px] text-gray-400\">AI can make mistakes. Please double-check responses.</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"fixed bottom-6 right-6 z-[9998] bg-[#1F2A6B] text-white p-4 rounded-full shadow-lg hover:shadow-xl hover:scale-110 active:scale-95 transition-all duration-300\"\r\n            >\r\n                {isOpen ? <X size={24} /> : <MessageSquare size={24} />}\r\n            </button>\r\n        </>\r\n    );\r\n}\r\n\r\n// --- WRAPPER WITH QUERY PROVIDER ---\r\nexport default function AIMentor() {\r\n    // This wrapper ensures React Query works even if the global provider is missing in the playground\r\n\r\n\r\n    return (\r\n        <AIMentorContent />\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2610, "column": 0}, "map": {"version":3,"sources":["file:///E:/PROJECT%202025%20-%20October/math4code-website/components/landing/Footer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nexport const Footer: React.FC = () => (\r\n    <footer className=\"bg-slate-900 text-slate-300 py-12 border-t border-slate-800\">\r\n        <div className=\"max-w-7xl mx-auto px-6 grid md:grid-cols-4 gap-8\">\r\n            <div className=\"col-span-1 md:col-span-2\">\r\n                <div className=\"flex items-center gap-2 font-bold text-2xl text-white mb-4\">\r\n                    <span className=\"text-[#14B8A6]\">math4code</span>\r\n                </div>\r\n                <p className=\"max-w-xs text-sm text-slate-400\">\r\n                    Master IIT-JAM, CSIR NET & GATE Mathematics with expert-led courses, intelligent mock tests, and AI-powered learning.\r\n                </p>\r\n            </div>\r\n\r\n            <div>\r\n                <h4 className=\"font-bold text-white mb-4\">Platform</h4>\r\n                <ul className=\"space-y-2 text-sm\">\r\n                    <li><Link href=\"/courses\" className=\"hover:text-[#14B8A6]\">Courses</Link></li>\r\n                    <li><Link href=\"/contact\" className=\"hover:text-[#14B8A6]\">Contact Us</Link></li>\r\n                    <li><Link href=\"/about\" className=\"hover:text-[#14B8A6]\">About Us</Link></li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div>\r\n                <h4 className=\"font-bold text-white mb-4\">Legal</h4>\r\n                <ul className=\"space-y-2 text-sm\">\r\n                    <li><Link href=\"/privacy-policy\" className=\"hover:text-[#14B8A6]\">Privacy Policy</Link></li>\r\n                    <li><Link href=\"/terms-of-use\" className=\"hover:text-[#14B8A6]\">Terms of Use</Link></li>\r\n                    <li><Link href=\"/refund-policy\" className=\"hover:text-[#14B8A6]\">Refund Policy</Link></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div className=\"max-w-7xl mx-auto px-6 mt-12 pt-8 border-t border-slate-800 text-center text-xs text-slate-500\">\r\n             2025 math4code Academy. All rights reserved.\r\n        </div>\r\n    </footer>\r\n);\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,MAAM,SAAmB,kBAC5B,6LAAC;QAAO,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCAAK,WAAU;8CAAiB;;;;;;;;;;;0CAErC,6LAAC;gCAAE,WAAU;0CAAkC;;;;;;;;;;;;kCAKnD,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAA4B;;;;;;0CAC1C,6LAAC;gCAAG,WAAU;;kDACV,6LAAC;kDAAG,cAAA,6LAAC,0KAAI;4CAAC,MAAK;4CAAW,WAAU;sDAAuB;;;;;;;;;;;kDAC3D,6LAAC;kDAAG,cAAA,6LAAC,0KAAI;4CAAC,MAAK;4CAAW,WAAU;sDAAuB;;;;;;;;;;;kDAC3D,6LAAC;kDAAG,cAAA,6LAAC,0KAAI;4CAAC,MAAK;4CAAS,WAAU;sDAAuB;;;;;;;;;;;;;;;;;;;;;;;kCAIjE,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAA4B;;;;;;0CAC1C,6LAAC;gCAAG,WAAU;;kDACV,6LAAC;kDAAG,cAAA,6LAAC,0KAAI;4CAAC,MAAK;4CAAkB,WAAU;sDAAuB;;;;;;;;;;;kDAClE,6LAAC;kDAAG,cAAA,6LAAC,0KAAI;4CAAC,MAAK;4CAAgB,WAAU;sDAAuB;;;;;;;;;;;kDAChE,6LAAC;kDAAG,cAAA,6LAAC,0KAAI;4CAAC,MAAK;4CAAiB,WAAU;sDAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAI7E,6LAAC;gBAAI,WAAU;0BAAiG;;;;;;;;;;;;KA9B3G"}}]
}