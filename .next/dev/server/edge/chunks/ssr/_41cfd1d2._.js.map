{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/ui/form.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport {\r\n  Controller,\r\n  FormProvider,\r\n  useFormContext,\r\n  useFormState,\r\n  type ControllerProps,\r\n  type FieldPath,\r\n  type FieldValues,\r\n} from 'react-hook-form'\r\n\r\nimport { cn } from '@/lib/utils'\r\nimport { Label } from '@/components/ui/label'\r\n\r\nconst Form = FormProvider\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n> = {\r\n  name: TName\r\n}\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\r\n  {} as FormFieldContextValue,\r\n)\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  )\r\n}\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext)\r\n  const itemContext = React.useContext(FormItemContext)\r\n  const { getFieldState } = useFormContext()\r\n  const formState = useFormState({ name: fieldContext.name })\r\n  const fieldState = getFieldState(fieldContext.name, formState)\r\n\r\n  if (!fieldContext) {\r\n    throw new Error('useFormField should be used within <FormField>')\r\n  }\r\n\r\n  const { id } = itemContext\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  }\r\n}\r\n\r\ntype FormItemContextValue = {\r\n  id: string\r\n}\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue>(\r\n  {} as FormItemContextValue,\r\n)\r\n\r\nfunction FormItem({ className, ...props }: React.ComponentProps<'div'>) {\r\n  const id = React.useId()\r\n\r\n  return (\r\n    <FormItemContext.Provider value={{ id }}>\r\n      <div\r\n        data-slot=\"form-item\"\r\n        className={cn('grid gap-2', className)}\r\n        {...props}\r\n      />\r\n    </FormItemContext.Provider>\r\n  )\r\n}\r\n\r\nfunction FormLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  const { error, formItemId } = useFormField()\r\n\r\n  return (\r\n    <Label\r\n      data-slot=\"form-label\"\r\n      data-error={!!error}\r\n      className={cn('data-[error=true]:text-destructive', className)}\r\n      htmlFor={formItemId}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\r\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\r\n\r\n  return (\r\n    <Slot\r\n      data-slot=\"form-control\"\r\n      id={formItemId}\r\n      aria-describedby={\r\n        !error\r\n          ? `${formDescriptionId}`\r\n          : `${formDescriptionId} ${formMessageId}`\r\n      }\r\n      aria-invalid={!!error}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormDescription({ className, ...props }: React.ComponentProps<'p'>) {\r\n  const { formDescriptionId } = useFormField()\r\n\r\n  return (\r\n    <p\r\n      data-slot=\"form-description\"\r\n      id={formDescriptionId}\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormMessage({ className, ...props }: React.ComponentProps<'p'>) {\r\n  const { error, formMessageId } = useFormField()\r\n  const body = error ? String(error?.message ?? '') : props.children\r\n\r\n  if (!body) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <p\r\n      data-slot=\"form-message\"\r\n      id={formMessageId}\r\n      className={cn('text-destructive text-sm', className)}\r\n      {...props}\r\n    >\r\n      {body}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport {\r\n  useFormField,\r\n  Form,\r\n  FormItem,\r\n  FormLabel,\r\n  FormControl,\r\n  FormDescription,\r\n  FormMessage,\r\n  FormField,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAEA;AAEA;AACA;AAUA;AACA;AAhBA;;;;;;;AAkBA,MAAM,OAAO,sLAAY;AASzB,MAAM,iCAAmB,mLAAmB,CAC1C,CAAC;AAGH,MAAM,YAAY,CAGhB,EACA,GAAG,OACkC;IACrC,qBACE,kMAAC,iBAAiB,QAAQ;QAAC,OAAO;YAAE,MAAM,MAAM,IAAI;QAAC;kBACnD,cAAA,kMAAC,oLAAU;YAAE,GAAG,KAAK;;;;;;;;;;;AAG3B;AAEA,MAAM,eAAe;IACnB,MAAM,eAAe,gLAAgB,CAAC;IACtC,MAAM,cAAc,gLAAgB,CAAC;IACrC,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,wLAAc;IACxC,MAAM,YAAY,IAAA,sLAAY,EAAC;QAAE,MAAM,aAAa,IAAI;IAAC;IACzD,MAAM,aAAa,cAAc,aAAa,IAAI,EAAE;IAEpD,IAAI,CAAC,cAAc;QACjB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,EAAE,EAAE,EAAE,GAAG;IAEf,OAAO;QACL;QACA,MAAM,aAAa,IAAI;QACvB,YAAY,GAAG,GAAG,UAAU,CAAC;QAC7B,mBAAmB,GAAG,GAAG,sBAAsB,CAAC;QAChD,eAAe,GAAG,GAAG,kBAAkB,CAAC;QACxC,GAAG,UAAU;IACf;AACF;AAMA,MAAM,gCAAkB,mLAAmB,CACzC,CAAC;AAGH,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,MAAM,KAAK,2KAAW;IAEtB,qBACE,kMAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;QAAG;kBACpC,cAAA,kMAAC;YACC,aAAU;YACV,WAAW,IAAA,0HAAE,EAAC,cAAc;YAC3B,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OAC8C;IACjD,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG;IAE9B,qBACE,kMAAC,2IAAK;QACJ,aAAU;QACV,cAAY,CAAC,CAAC;QACd,WAAW,IAAA,0HAAE,EAAC,sCAAsC;QACpD,SAAS;QACR,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,GAAG,OAA0C;IAClE,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,iBAAiB,EAAE,aAAa,EAAE,GAAG;IAEhE,qBACE,kMAAC,gLAAI;QACH,aAAU;QACV,IAAI;QACJ,oBACE,CAAC,QACG,GAAG,mBAAmB,GACtB,GAAG,kBAAkB,CAAC,EAAE,eAAe;QAE7C,gBAAc,CAAC,CAAC;QACf,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAkC;IACzE,MAAM,EAAE,iBAAiB,EAAE,GAAG;IAE9B,qBACE,kMAAC;QACC,aAAU;QACV,IAAI;QACJ,WAAW,IAAA,0HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAkC;IACrE,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,GAAG;IACjC,MAAM,OAAO,QAAQ,OAAO,OAAO,WAAW,MAAM,MAAM,QAAQ;IAElE,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBACE,kMAAC;QACC,aAAU;QACV,IAAI;QACJ,WAAW,IAAA,0HAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/ui/image-upload.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ImagePlus, X, Loader2 } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport { toast } from \"sonner\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\ninterface ImageUploadProps {\r\n    value: string;\r\n    onChange: (url: string) => void;\r\n    disabled?: boolean;\r\n    maxSizeMB?: number;\r\n    maxWidth?: number;\r\n    maxHeight?: number;\r\n}\r\n\r\nexport function ImageUpload({\r\n    value,\r\n    onChange,\r\n    disabled,\r\n    maxSizeMB = 0.3, // Default 300KB\r\n    maxWidth = 600,\r\n    maxHeight = 400\r\n}: ImageUploadProps) {\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const supabase = createClient();\r\n\r\n    const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        // 1. Validate File Size\r\n        if (file.size > maxSizeMB * 1024 * 1024) {\r\n            toast.error(`File size must be less than ${maxSizeMB * 1000}KB`);\r\n            return;\r\n        }\r\n\r\n        // 2. Validate Dimensions\r\n        const img = new window.Image();\r\n        img.src = URL.createObjectURL(file);\r\n\r\n        img.onload = async () => {\r\n            URL.revokeObjectURL(img.src);\r\n\r\n            // Allow some tolerance or strict check? User said \"should be 600x400\".\r\n            // Let's warn but maybe allow if it's close? Or strictly enforce?\r\n            // \"Note: cover size should be 600x400\" sounds like a requirement.\r\n            // But usually exact pixel match is annoying. Let's check aspect ratio or max dimensions.\r\n            // Re-reading: \"cover size should be 600x400\". I will enforce it strictly for now as requested.\r\n\r\n            if (img.width !== maxWidth || img.height !== maxHeight) {\r\n                toast.error(`Image dimensions must be exactly ${maxWidth}x${maxHeight}px`);\r\n                return;\r\n            }\r\n\r\n            // 3. Upload to Supabase\r\n            try {\r\n                setIsUploading(true);\r\n\r\n                const fileExt = file.name.split('.').pop();\r\n                const fileName = `${Math.random().toString(36).substring(2)}.${fileExt}`;\r\n                const filePath = `course-thumbnails/${fileName}`;\r\n\r\n                const { error: uploadError } = await supabase.storage\r\n                    .from('courses')\r\n                    .upload(filePath, file);\r\n\r\n                if (uploadError) {\r\n                    throw uploadError;\r\n                }\r\n\r\n                const { data: { publicUrl } } = supabase.storage\r\n                    .from('courses')\r\n                    .getPublicUrl(filePath);\r\n\r\n                onChange(publicUrl);\r\n                toast.success(\"Thumbnail uploaded successfully\");\r\n            } catch (error) {\r\n                console.error(\"Upload error:\", error);\r\n\r\n                // Debug: Check available buckets\r\n                const { data: buckets, error: bucketError } = await supabase.storage.listBuckets();\r\n                // Buckets available\r\n                if (bucketError) console.error(\"Error listing buckets:\", bucketError);\r\n\r\n                toast.error(\"Failed to upload image: \" + (error as any).message);\r\n            } finally {\r\n                setIsUploading(false);\r\n            }\r\n        };\r\n\r\n        img.onerror = () => {\r\n            toast.error(\"Invalid image file\");\r\n            URL.revokeObjectURL(img.src);\r\n        };\r\n    };\r\n\r\n    const handleRemove = () => {\r\n        onChange(\"\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-4 w-full flex flex-col justify-center items-center\">\r\n            <div className=\"relative w-full h-[200px] md:w-[300px] md:h-[200px] border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl flex flex-col items-center justify-center overflow-hidden bg-slate-50 dark:bg-slate-900 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors\">\r\n                {value && value !== 'NULL' && value !== 'null' ? (\r\n                    <>\r\n                        <div className=\"relative w-full h-full\">\r\n                            <Image\r\n                                fill\r\n                                src={value}\r\n                                alt=\"Upload\"\r\n                                className=\"object-cover\"\r\n                            />\r\n                        </div>\r\n                        <button\r\n                            onClick={handleRemove}\r\n                            className=\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-sm\"\r\n                            type=\"button\"\r\n                            disabled={disabled}\r\n                        >\r\n                            <X className=\"h-4 w-4\" />\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <div className=\"flex flex-col items-center justify-center text-slate-500 dark:text-slate-400 p-4 text-center\">\r\n                        <ImagePlus className=\"h-10 w-10 mb-2 opacity-50\" />\r\n                        <p className=\"text-sm font-medium\">Click to upload thumbnail</p>\r\n                        <p className=\"text-xs text-slate-400 mt-1\">\r\n                            {maxWidth}x{maxHeight}px, max {maxSizeMB * 1000}KB\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                <input\r\n                    ref={fileInputRef}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed\"\r\n                    onChange={handleFileSelect}\r\n                    disabled={disabled || isUploading}\r\n                />\r\n\r\n                {isUploading && (\r\n                    <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center z-10\">\r\n                        <Loader2 className=\"h-8 w-8 animate-spin text-white\" />\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/admin/courses/create/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport * as z from \"zod\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Form,\r\n    FormControl,\r\n    FormDescription,\r\n    FormField,\r\n    FormItem,\r\n    FormLabel,\r\n    FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { toast } from \"sonner\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport { ImageUpload } from \"@/components/ui/image-upload\";\r\n\r\nconst formSchema = z.object({\r\n    title: z.string().min(2, {\r\n        message: \"Title must be at least 2 characters.\",\r\n    }),\r\n    description: z.string().optional(),\r\n    price: z.coerce.number().min(0, {\r\n        message: \"Price must be a positive number.\",\r\n    }),\r\n    category: z.string().min(1, {\r\n        message: \"Please select a category.\",\r\n    }),\r\n    level: z.enum([\"beginner\", \"intermediate\", \"advanced\", \"all\"]),\r\n    course_type: z.enum([\"course\", \"test_series\"]),\r\n    thumbnail_url: z.string().optional(),\r\n    duration_months: z.coerce.number().int().positive().optional().nullable(),\r\n});\r\n\r\nexport default function CreateCoursePage() {\r\n    const router = useRouter();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const supabase = createClient();\r\n\r\n    const form = useForm<z.infer<typeof formSchema>>({\r\n        resolver: zodResolver(formSchema),\r\n        defaultValues: {\r\n            title: \"\",\r\n            description: \"\",\r\n            price: 0,\r\n            category: \"\",\r\n            level: \"all\",\r\n            course_type: \"course\",\r\n            thumbnail_url: \"\",\r\n            duration_months: null,\r\n        },\r\n    });\r\n\r\n    async function onSubmit(values: z.infer<typeof formSchema>) {\r\n        try {\r\n            setIsLoading(true);\r\n            const {\r\n                data: { user },\r\n            } = await supabase.auth.getUser();\r\n\r\n            if (!user) {\r\n                toast.error(\"You must be logged in to create a course\");\r\n                return;\r\n            }\r\n\r\n            const { data, error } = await supabase\r\n                .from(\"courses\")\r\n                .insert([\r\n                    {\r\n                        creator_id: user.id,\r\n                        title: values.title,\r\n                        description: values.description,\r\n                        price: values.price,\r\n                        category: values.category,\r\n                        level: values.level,\r\n                        course_type: values.course_type,\r\n                        thumbnail_url: values.thumbnail_url,\r\n                        duration_months: values.duration_months,\r\n                        is_published: false,\r\n                    },\r\n                ])\r\n                .select()\r\n                .single();\r\n\r\n            if (error) {\r\n                throw error;\r\n            }\r\n\r\n            toast.success(\"Course created successfully\");\r\n            router.push(`/admin/courses/${data.id}/builder`);\r\n        } catch (error) {\r\n            console.error(\"Error creating course:\", error);\r\n            toast.error(\"Failed to create course\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"max-w-2xl mx-auto py-10\">\r\n            <div className=\"mb-8\">\r\n                <h1 className=\"text-3xl font-bold\">Create New Course</h1>\r\n                <p className=\"text-muted-foreground\">\r\n                    Start by entering the basic details of your course.\r\n                </p>\r\n            </div>\r\n\r\n            <Form {...form}>\r\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-8\">\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"thumbnail_url\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Course Thumbnail</FormLabel>\r\n                                <FormControl>\r\n                                    <ImageUpload\r\n                                        value={field.value || \"\"}\r\n                                        onChange={field.onChange}\r\n                                        disabled={isLoading}\r\n                                    />\r\n                                </FormControl>\r\n                                <FormDescription>\r\n                                    Upload a cover image for your course (600x400px, max 300KB).\r\n                                </FormDescription>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"title\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Course Title</FormLabel>\r\n                                <FormControl>\r\n                                    <Input placeholder=\"e.g. Advanced React Patterns\" {...field} />\r\n                                </FormControl>\r\n                                <FormDescription>\r\n                                    This is the name that will be displayed in the marketplace.\r\n                                </FormDescription>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"description\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Description</FormLabel>\r\n                                <FormControl>\r\n                                    <Textarea\r\n                                        placeholder=\"Briefly describe what students will learn...\"\r\n                                        className=\"resize-none\"\r\n                                        {...field}\r\n                                    />\r\n                                </FormControl>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <FormField\r\n                            control={form.control}\r\n                            name=\"price\"\r\n                            render={({ field }) => (\r\n                                <FormItem>\r\n                                    <FormLabel>Price ($)</FormLabel>\r\n                                    <FormControl>\r\n                                        <Input type=\"number\" min=\"0\" step=\"0.01\" {...field} />\r\n                                    </FormControl>\r\n                                    <FormDescription>\r\n                                        Set to 0 for a free course.\r\n                                    </FormDescription>\r\n                                    <FormMessage />\r\n                                </FormItem>\r\n                            )}\r\n                        />\r\n\r\n                        <FormField\r\n                            control={form.control}\r\n                            name=\"category\"\r\n                            render={({ field }) => (\r\n                                <FormItem>\r\n                                    <FormLabel>Category</FormLabel>\r\n                                    <Select\r\n                                        onValueChange={field.onChange}\r\n                                        defaultValue={field.value}\r\n                                    >\r\n                                        <FormControl>\r\n                                            <SelectTrigger>\r\n                                                <SelectValue placeholder=\"Select a category\" />\r\n                                            </SelectTrigger>\r\n                                        </FormControl>\r\n                                        <SelectContent>\r\n                                            <SelectItem value=\"iit_jam\">IIT-JAM Mathematics</SelectItem>\r\n                                            <SelectItem value=\"csir_net\">CSIR NET Mathematical Sciences</SelectItem>\r\n                                            <SelectItem value=\"gate\">GATE Mathematics</SelectItem>\r\n                                            <SelectItem value=\"foundation\">Foundation Courses</SelectItem>\r\n                                            <SelectItem value=\"advanced\">Advanced Topics</SelectItem>\r\n                                        </SelectContent>\r\n                                    </Select>\r\n                                    <FormMessage />\r\n                                </FormItem>\r\n                            )}\r\n                        />\r\n                    </div>\r\n\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"level\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Level</FormLabel>\r\n                                <Select\r\n                                    onValueChange={field.onChange}\r\n                                    defaultValue={field.value}\r\n                                >\r\n                                    <FormControl>\r\n                                        <SelectTrigger>\r\n                                            <SelectValue placeholder=\"Select a level\" />\r\n                                        </SelectTrigger>\r\n                                    </FormControl>\r\n                                    <SelectContent>\r\n                                        <SelectItem value=\"beginner\">Beginner</SelectItem>\r\n                                        <SelectItem value=\"intermediate\">Intermediate</SelectItem>\r\n                                        <SelectItem value=\"advanced\">Advanced</SelectItem>\r\n                                        <SelectItem value=\"all\">All Levels</SelectItem>\r\n                                    </SelectContent>\r\n                                </Select>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"duration_months\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Course Duration (Months)</FormLabel>\r\n                                <FormControl>\r\n                                    <Input\r\n                                        type=\"number\"\r\n                                        min=\"1\"\r\n                                        step=\"1\"\r\n                                        placeholder=\"Leave empty for lifetime access\"\r\n                                        {...field}\r\n                                        value={field.value ?? ''}\r\n                                        onChange={(e) => {\r\n                                            const value = e.target.value;\r\n                                            field.onChange(value === '' ? null : parseInt(value));\r\n                                        }}\r\n                                    />\r\n                                </FormControl>\r\n                                <FormDescription>\r\n                                    Number of months the course will be accessible after enrollment. Leave empty for lifetime access.\r\n                                </FormDescription>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"course_type\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Type</FormLabel>\r\n                                <Select\r\n                                    onValueChange={field.onChange}\r\n                                    defaultValue={field.value}\r\n                                >\r\n                                    <FormControl>\r\n                                        <SelectTrigger>\r\n                                            <SelectValue placeholder=\"Select type\" />\r\n                                        </SelectTrigger>\r\n                                    </FormControl>\r\n                                    <SelectContent>\r\n                                        <SelectItem value=\"course\">Course</SelectItem>\r\n                                        <SelectItem value=\"test_series\">Test Series</SelectItem>\r\n                                    </SelectContent>\r\n                                </Select>\r\n                                <FormDescription>\r\n                                    Courses appear in the courses section, test series appear in the test series section.\r\n                                </FormDescription>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n\r\n                    <div className=\"flex justify-end gap-4\">\r\n                        <Button\r\n                            type=\"button\"\r\n                            variant=\"ghost\"\r\n                            onClick={() => router.back()}\r\n                            disabled={isLoading}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                        <Button type=\"submit\" disabled={isLoading}>\r\n                            {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                            Create Course\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}